import{o as mt,c as Tt,a as qt,r as Ft,b as ae,d as at,n as Xt,e as Ht,t as Qt,w as Se}from"./index.160de812.js";var ht=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function It(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ce={exports:{}};(function(s,e){(function(r){s.exports=r()})(function(){var r=Math.floor,a=Math.abs,N=Math.pow;return function(){function m(L,E,d){function x(f,b){if(!E[f]){if(!L[f]){var u=typeof It=="function"&&It;if(!b&&u)return u(f,!0);if(D)return D(f,!0);var w=new Error("Cannot find module '"+f+"'");throw w.code="MODULE_NOT_FOUND",w}var B=E[f]={exports:{}};L[f][0].call(B.exports,function(k){var I=L[f][1][k];return x(I||k)},B,B.exports,m,L,E,d)}return E[f].exports}for(var D=typeof It=="function"&&It,o=0;o<d.length;o++)x(d[o]);return x}return m}()({1:[function(m,L,E){function d(l){var p=l.length;if(0<p%4)throw new Error("Invalid string. Length must be a multiple of 4");var C=l.indexOf("=");C===-1&&(C=p);var y=C===p?0:4-C%4;return[C,y]}function x(l,p,C){return 3*(p+C)/4-C}function D(l){var p,C,y=d(l),T=y[0],P=y[1],_=new B(x(l,T,P)),R=0,F=0<P?T-4:T;for(C=0;C<F;C+=4)p=w[l.charCodeAt(C)]<<18|w[l.charCodeAt(C+1)]<<12|w[l.charCodeAt(C+2)]<<6|w[l.charCodeAt(C+3)],_[R++]=255&p>>16,_[R++]=255&p>>8,_[R++]=255&p;return P===2&&(p=w[l.charCodeAt(C)]<<2|w[l.charCodeAt(C+1)]>>4,_[R++]=255&p),P===1&&(p=w[l.charCodeAt(C)]<<10|w[l.charCodeAt(C+1)]<<4|w[l.charCodeAt(C+2)]>>2,_[R++]=255&p>>8,_[R++]=255&p),_}function o(l){return u[63&l>>18]+u[63&l>>12]+u[63&l>>6]+u[63&l]}function f(l,p,C){for(var y,T=[],P=p;P<C;P+=3)y=(16711680&l[P]<<16)+(65280&l[P+1]<<8)+(255&l[P+2]),T.push(o(y));return T.join("")}function b(l){for(var p,C=l.length,y=C%3,T=[],P=16383,_=0,R=C-y;_<R;_+=P)T.push(f(l,_,_+P>R?R:_+P));return y===1?(p=l[C-1],T.push(u[p>>2]+u[63&p<<4]+"==")):y===2&&(p=(l[C-2]<<8)+l[C-1],T.push(u[p>>10]+u[63&p>>4]+u[63&p<<2]+"=")),T.join("")}E.byteLength=function(l){var p=d(l),C=p[0],y=p[1];return 3*(C+y)/4-y},E.toByteArray=D,E.fromByteArray=b;for(var u=[],w=[],B=typeof Uint8Array=="undefined"?Array:Uint8Array,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I=0,c=k.length;I<c;++I)u[I]=k[I],w[k.charCodeAt(I)]=I;w[45]=62,w[95]=63},{}],2:[function(){},{}],3:[function(m,L,E){(function(){(function(){var d=String.fromCharCode,x=Math.min;function D(t){if(2147483647<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');var n=new Uint8Array(t);return n.__proto__=o.prototype,n}function o(t,n,i){if(typeof t=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(t)}return f(t,n,i)}function f(t,n,i){if(typeof t=="string")return B(t,n);if(ArrayBuffer.isView(t))return k(t);if(t==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(S(t,ArrayBuffer)||t&&S(t.buffer,ArrayBuffer))return I(t,n,i);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var g=t.valueOf&&t.valueOf();if(g!=null&&g!==t)return o.from(g,n,i);var v=c(t);if(v)return v;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return o.from(t[Symbol.toPrimitive]("string"),n,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function b(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(0>t)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function u(t,n,i){return b(t),0>=t||n===void 0?D(t):typeof i=="string"?D(t).fill(n,i):D(t).fill(n)}function w(t){return b(t),D(0>t?0:0|l(t))}function B(t,n){if((typeof n!="string"||n==="")&&(n="utf8"),!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var i=0|p(t,n),g=D(i),v=g.write(t,n);return v!==i&&(g=g.slice(0,v)),g}function k(t){for(var n=0>t.length?0:0|l(t.length),i=D(n),g=0;g<n;g+=1)i[g]=255&t[g];return i}function I(t,n,i){if(0>n||t.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var g;return g=n===void 0&&i===void 0?new Uint8Array(t):i===void 0?new Uint8Array(t,n):new Uint8Array(t,n,i),g.__proto__=o.prototype,g}function c(t){if(o.isBuffer(t)){var n=0|l(t.length),i=D(n);return i.length===0||t.copy(i,0,0,n),i}return t.length===void 0?t.type==="Buffer"&&Array.isArray(t.data)?k(t.data):void 0:typeof t.length!="number"||A(t.length)?D(0):k(t)}function l(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|t}function p(t,n){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||S(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var i=t.length,g=2<arguments.length&&arguments[2]===!0;if(!g&&i===0)return 0;for(var v=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return wt(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return st(t).length;default:if(v)return g?-1:wt(t).length;n=(""+n).toLowerCase(),v=!0}}function C(t,n,i){var g=!1;if((n===void 0||0>n)&&(n=0),n>this.length||((i===void 0||i>this.length)&&(i=this.length),0>=i)||(i>>>=0,n>>>=0,i<=n))return"";for(t||(t="utf8");;)switch(t){case"hex":return rt(this,n,i);case"utf8":case"utf-8":return tt(this,n,i);case"ascii":return W(this,n,i);case"latin1":case"binary":return Et(this,n,i);case"base64":return G(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ft(this,n,i);default:if(g)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),g=!0}}function y(t,n,i){var g=t[n];t[n]=t[i],t[i]=g}function T(t,n,i,g,v){if(t.length===0)return-1;if(typeof i=="string"?(g=i,i=0):2147483647<i?i=2147483647:-2147483648>i&&(i=-2147483648),i=+i,A(i)&&(i=v?0:t.length-1),0>i&&(i=t.length+i),i>=t.length){if(v)return-1;i=t.length-1}else if(0>i)if(v)i=0;else return-1;if(typeof n=="string"&&(n=o.from(n,g)),o.isBuffer(n))return n.length===0?-1:P(t,n,i,g,v);if(typeof n=="number")return n&=255,typeof Uint8Array.prototype.indexOf=="function"?v?Uint8Array.prototype.indexOf.call(t,n,i):Uint8Array.prototype.lastIndexOf.call(t,n,i):P(t,[n],i,g,v);throw new TypeError("val must be string, number or Buffer")}function P(t,n,i,g,v){function O(Ct,xt){return U===1?Ct[xt]:Ct.readUInt16BE(xt*U)}var U=1,z=t.length,X=n.length;if(g!==void 0&&(g=(g+"").toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(2>t.length||2>n.length)return-1;U=2,z/=2,X/=2,i/=2}var K;if(v){var Y=-1;for(K=i;K<z;K++)if(O(t,K)!==O(n,Y===-1?0:K-Y))Y!==-1&&(K-=K-Y),Y=-1;else if(Y===-1&&(Y=K),K-Y+1===X)return Y*U}else for(i+X>z&&(i=z-X),K=i;0<=K;K--){for(var et=!0,vt=0;vt<X;vt++)if(O(t,K+vt)!==O(n,vt)){et=!1;break}if(et)return K}return-1}function _(t,n,i,g){i=+i||0;var v=t.length-i;g?(g=+g,g>v&&(g=v)):g=v;var O=n.length;g>O/2&&(g=O/2);for(var U,z=0;z<g;++z){if(U=parseInt(n.substr(2*z,2),16),A(U))return z;t[i+z]=U}return z}function R(t,n,i,g){return ot(wt(n,t.length-i),t,i,g)}function F(t,n,i,g){return ot(Ot(n),t,i,g)}function j(t,n,i,g){return F(t,n,i,g)}function H(t,n,i,g){return ot(st(n),t,i,g)}function V(t,n,i,g){return ot(gt(n,t.length-i),t,i,g)}function G(t,n,i){return n===0&&i===t.length?M.fromByteArray(t):M.fromByteArray(t.slice(n,i))}function tt(t,n,i){i=x(t.length,i);for(var g=[],v=n;v<i;){var O=t[v],U=null,z=239<O?4:223<O?3:191<O?2:1;if(v+z<=i){var X,K,Y,et;z===1?128>O&&(U=O):z===2?(X=t[v+1],(192&X)==128&&(et=(31&O)<<6|63&X,127<et&&(U=et))):z===3?(X=t[v+1],K=t[v+2],(192&X)==128&&(192&K)==128&&(et=(15&O)<<12|(63&X)<<6|63&K,2047<et&&(55296>et||57343<et)&&(U=et))):z===4&&(X=t[v+1],K=t[v+2],Y=t[v+3],(192&X)==128&&(192&K)==128&&(192&Y)==128&&(et=(15&O)<<18|(63&X)<<12|(63&K)<<6|63&Y,65535<et&&1114112>et&&(U=et)))}U===null?(U=65533,z=1):65535<U&&(U-=65536,g.push(55296|1023&U>>>10),U=56320|1023&U),g.push(U),v+=z}return nt(g)}function nt(t){var n=t.length;if(n<=4096)return d.apply(String,t);for(var i="",g=0;g<n;)i+=d.apply(String,t.slice(g,g+=4096));return i}function W(t,n,i){var g="";i=x(t.length,i);for(var v=n;v<i;++v)g+=d(127&t[v]);return g}function Et(t,n,i){var g="";i=x(t.length,i);for(var v=n;v<i;++v)g+=d(t[v]);return g}function rt(t,n,i){var g=t.length;(!n||0>n)&&(n=0),(!i||0>i||i>g)&&(i=g);for(var v="",O=n;O<i;++O)v+=_t(t[O]);return v}function ft(t,n,i){for(var g=t.slice(n,i),v="",O=0;O<g.length;O+=2)v+=d(g[O]+256*g[O+1]);return v}function Q(t,n,i){if(t%1!=0||0>t)throw new RangeError("offset is not uint");if(t+n>i)throw new RangeError("Trying to access beyond buffer length")}function J(t,n,i,g,v,O){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>v||n<O)throw new RangeError('"value" argument is out of bounds');if(i+g>t.length)throw new RangeError("Index out of range")}function it(t,n,i,g){if(i+g>t.length)throw new RangeError("Index out of range");if(0>i)throw new RangeError("Index out of range")}function dt(t,n,i,g,v){return n=+n,i>>>=0,v||it(t,n,i,4),q.write(t,n,i,g,23,4),i+4}function pt(t,n,i,g,v){return n=+n,i>>>=0,v||it(t,n,i,8),q.write(t,n,i,g,52,8),i+8}function At(t){if(t=t.split("=")[0],t=t.trim().replace(h,""),2>t.length)return"";for(;t.length%4!=0;)t+="=";return t}function _t(t){return 16>t?"0"+t.toString(16):t.toString(16)}function wt(t,n){n=n||1/0;for(var i,g=t.length,v=null,O=[],U=0;U<g;++U){if(i=t.charCodeAt(U),55295<i&&57344>i){if(!v){if(56319<i){-1<(n-=3)&&O.push(239,191,189);continue}else if(U+1===g){-1<(n-=3)&&O.push(239,191,189);continue}v=i;continue}if(56320>i){-1<(n-=3)&&O.push(239,191,189),v=i;continue}i=(v-55296<<10|i-56320)+65536}else v&&-1<(n-=3)&&O.push(239,191,189);if(v=null,128>i){if(0>(n-=1))break;O.push(i)}else if(2048>i){if(0>(n-=2))break;O.push(192|i>>6,128|63&i)}else if(65536>i){if(0>(n-=3))break;O.push(224|i>>12,128|63&i>>6,128|63&i)}else if(1114112>i){if(0>(n-=4))break;O.push(240|i>>18,128|63&i>>12,128|63&i>>6,128|63&i)}else throw new Error("Invalid code point")}return O}function Ot(t){for(var n=[],i=0;i<t.length;++i)n.push(255&t.charCodeAt(i));return n}function gt(t,n){for(var i,g,v,O=[],U=0;U<t.length&&!(0>(n-=2));++U)i=t.charCodeAt(U),g=i>>8,v=i%256,O.push(v),O.push(g);return O}function st(t){return M.toByteArray(At(t))}function ot(t,n,i,g){for(var v=0;v<g&&!(v+i>=n.length||v>=t.length);++v)n[v+i]=t[v];return v}function S(t,n){return t instanceof n||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===n.name}function A(t){return t!==t}var M=m("base64-js"),q=m("ieee754");E.Buffer=o,E.SlowBuffer=function(t){return+t!=t&&(t=0),o.alloc(+t)},E.INSPECT_MAX_BYTES=50,E.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},t.foo()===42}catch{return!1}}(),o.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){return o.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){return o.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol!="undefined"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(t,n,i){return f(t,n,i)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(t,n,i){return u(t,n,i)},o.allocUnsafe=function(t){return w(t)},o.allocUnsafeSlow=function(t){return w(t)},o.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==o.prototype},o.compare=function(t,n){if(S(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),S(n,Uint8Array)&&(n=o.from(n,n.offset,n.byteLength)),!o.isBuffer(t)||!o.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var i=t.length,g=n.length,v=0,O=x(i,g);v<O;++v)if(t[v]!==n[v]){i=t[v],g=n[v];break}return i<g?-1:g<i?1:0},o.isEncoding=function(t){switch((t+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return o.alloc(0);var i;if(n===void 0)for(n=0,i=0;i<t.length;++i)n+=t[i].length;var g=o.allocUnsafe(n),v=0;for(i=0;i<t.length;++i){var O=t[i];if(S(O,Uint8Array)&&(O=o.from(O)),!o.isBuffer(O))throw new TypeError('"list" argument must be an Array of Buffers');O.copy(g,v),v+=O.length}return g},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)y(this,n,n+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)y(this,n,n+3),y(this,n+1,n+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)y(this,n,n+7),y(this,n+1,n+6),y(this,n+2,n+5),y(this,n+3,n+4);return this},o.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?tt(this,0,t):C.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||o.compare(this,t)===0},o.prototype.inspect=function(){var t="",n=E.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o.prototype.compare=function(t,n,i,g,v){if(S(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(n===void 0&&(n=0),i===void 0&&(i=t?t.length:0),g===void 0&&(g=0),v===void 0&&(v=this.length),0>n||i>t.length||0>g||v>this.length)throw new RangeError("out of range index");if(g>=v&&n>=i)return 0;if(g>=v)return-1;if(n>=i)return 1;if(n>>>=0,i>>>=0,g>>>=0,v>>>=0,this===t)return 0;for(var O=v-g,U=i-n,z=x(O,U),X=this.slice(g,v),K=t.slice(n,i),Y=0;Y<z;++Y)if(X[Y]!==K[Y]){O=X[Y],U=K[Y];break}return O<U?-1:U<O?1:0},o.prototype.includes=function(t,n,i){return this.indexOf(t,n,i)!==-1},o.prototype.indexOf=function(t,n,i){return T(this,t,n,i,!0)},o.prototype.lastIndexOf=function(t,n,i){return T(this,t,n,i,!1)},o.prototype.write=function(t,n,i,g){if(n===void 0)g="utf8",i=this.length,n=0;else if(i===void 0&&typeof n=="string")g=n,i=this.length,n=0;else if(isFinite(n))n>>>=0,isFinite(i)?(i>>>=0,g===void 0&&(g="utf8")):(g=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var v=this.length-n;if((i===void 0||i>v)&&(i=v),0<t.length&&(0>i||0>n)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");for(var O=!1;;)switch(g){case"hex":return _(this,t,n,i);case"utf8":case"utf-8":return R(this,t,n,i);case"ascii":return F(this,t,n,i);case"latin1":case"binary":return j(this,t,n,i);case"base64":return H(this,t,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,t,n,i);default:if(O)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),O=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(t,n){var i=this.length;t=~~t,n=n===void 0?i:~~n,0>t?(t+=i,0>t&&(t=0)):t>i&&(t=i),0>n?(n+=i,0>n&&(n=0)):n>i&&(n=i),n<t&&(n=t);var g=this.subarray(t,n);return g.__proto__=o.prototype,g},o.prototype.readUIntLE=function(t,n,i){t>>>=0,n>>>=0,i||Q(t,n,this.length);for(var g=this[t],v=1,O=0;++O<n&&(v*=256);)g+=this[t+O]*v;return g},o.prototype.readUIntBE=function(t,n,i){t>>>=0,n>>>=0,i||Q(t,n,this.length);for(var g=this[t+--n],v=1;0<n&&(v*=256);)g+=this[t+--n]*v;return g},o.prototype.readUInt8=function(t,n){return t>>>=0,n||Q(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,n){return t>>>=0,n||Q(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,n){return t>>>=0,n||Q(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,n){return t>>>=0,n||Q(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,n){return t>>>=0,n||Q(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,n,i){t>>>=0,n>>>=0,i||Q(t,n,this.length);for(var g=this[t],v=1,O=0;++O<n&&(v*=256);)g+=this[t+O]*v;return v*=128,g>=v&&(g-=N(2,8*n)),g},o.prototype.readIntBE=function(t,n,i){t>>>=0,n>>>=0,i||Q(t,n,this.length);for(var g=n,v=1,O=this[t+--g];0<g&&(v*=256);)O+=this[t+--g]*v;return v*=128,O>=v&&(O-=N(2,8*n)),O},o.prototype.readInt8=function(t,n){return t>>>=0,n||Q(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,n){t>>>=0,n||Q(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(t,n){t>>>=0,n||Q(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(t,n){return t>>>=0,n||Q(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,n){return t>>>=0,n||Q(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,n){return t>>>=0,n||Q(t,4,this.length),q.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,n){return t>>>=0,n||Q(t,4,this.length),q.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,n){return t>>>=0,n||Q(t,8,this.length),q.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,n){return t>>>=0,n||Q(t,8,this.length),q.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,n,i,g){if(t=+t,n>>>=0,i>>>=0,!g){var v=N(2,8*i)-1;J(this,t,n,i,v,0)}var O=1,U=0;for(this[n]=255&t;++U<i&&(O*=256);)this[n+U]=255&t/O;return n+i},o.prototype.writeUIntBE=function(t,n,i,g){if(t=+t,n>>>=0,i>>>=0,!g){var v=N(2,8*i)-1;J(this,t,n,i,v,0)}var O=i-1,U=1;for(this[n+O]=255&t;0<=--O&&(U*=256);)this[n+O]=255&t/U;return n+i},o.prototype.writeUInt8=function(t,n,i){return t=+t,n>>>=0,i||J(this,t,n,1,255,0),this[n]=255&t,n+1},o.prototype.writeUInt16LE=function(t,n,i){return t=+t,n>>>=0,i||J(this,t,n,2,65535,0),this[n]=255&t,this[n+1]=t>>>8,n+2},o.prototype.writeUInt16BE=function(t,n,i){return t=+t,n>>>=0,i||J(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=255&t,n+2},o.prototype.writeUInt32LE=function(t,n,i){return t=+t,n>>>=0,i||J(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t,n+4},o.prototype.writeUInt32BE=function(t,n,i){return t=+t,n>>>=0,i||J(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},o.prototype.writeIntLE=function(t,n,i,g){if(t=+t,n>>>=0,!g){var v=N(2,8*i-1);J(this,t,n,i,v-1,-v)}var O=0,U=1,z=0;for(this[n]=255&t;++O<i&&(U*=256);)0>t&&z===0&&this[n+O-1]!==0&&(z=1),this[n+O]=255&(t/U>>0)-z;return n+i},o.prototype.writeIntBE=function(t,n,i,g){if(t=+t,n>>>=0,!g){var v=N(2,8*i-1);J(this,t,n,i,v-1,-v)}var O=i-1,U=1,z=0;for(this[n+O]=255&t;0<=--O&&(U*=256);)0>t&&z===0&&this[n+O+1]!==0&&(z=1),this[n+O]=255&(t/U>>0)-z;return n+i},o.prototype.writeInt8=function(t,n,i){return t=+t,n>>>=0,i||J(this,t,n,1,127,-128),0>t&&(t=255+t+1),this[n]=255&t,n+1},o.prototype.writeInt16LE=function(t,n,i){return t=+t,n>>>=0,i||J(this,t,n,2,32767,-32768),this[n]=255&t,this[n+1]=t>>>8,n+2},o.prototype.writeInt16BE=function(t,n,i){return t=+t,n>>>=0,i||J(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=255&t,n+2},o.prototype.writeInt32LE=function(t,n,i){return t=+t,n>>>=0,i||J(this,t,n,4,2147483647,-2147483648),this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4},o.prototype.writeInt32BE=function(t,n,i){return t=+t,n>>>=0,i||J(this,t,n,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t,n+4},o.prototype.writeFloatLE=function(t,n,i){return dt(this,t,n,!0,i)},o.prototype.writeFloatBE=function(t,n,i){return dt(this,t,n,!1,i)},o.prototype.writeDoubleLE=function(t,n,i){return pt(this,t,n,!0,i)},o.prototype.writeDoubleBE=function(t,n,i){return pt(this,t,n,!1,i)},o.prototype.copy=function(t,n,i,g){if(!o.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),g||g===0||(g=this.length),n>=t.length&&(n=t.length),n||(n=0),0<g&&g<i&&(g=i),g===i||t.length===0||this.length===0)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("Index out of range");if(0>g)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),t.length-n<g-i&&(g=t.length-n+i);var v=g-i;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(n,i,g);else if(this===t&&i<n&&n<g)for(var O=v-1;0<=O;--O)t[O+n]=this[O+i];else Uint8Array.prototype.set.call(t,this.subarray(i,g),n);return v},o.prototype.fill=function(t,n,i,g){if(typeof t=="string"){if(typeof n=="string"?(g=n,n=0,i=this.length):typeof i=="string"&&(g=i,i=this.length),g!==void 0&&typeof g!="string")throw new TypeError("encoding must be a string");if(typeof g=="string"&&!o.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(t.length===1){var v=t.charCodeAt(0);(g==="utf8"&&128>v||g==="latin1")&&(t=v)}}else typeof t=="number"&&(t&=255);if(0>n||this.length<n||this.length<i)throw new RangeError("Out of range index");if(i<=n)return this;n>>>=0,i=i===void 0?this.length:i>>>0,t||(t=0);var O;if(typeof t=="number")for(O=n;O<i;++O)this[O]=t;else{var U=o.isBuffer(t)?t:o.from(t,g),z=U.length;if(z===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(O=0;O<i-n;++O)this[O+n]=U[O%z]}return this};var h=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,m("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(m,L,E){(function(d){(function(){function x(){let o;try{o=E.storage.getItem("debug")}catch{}return!o&&typeof d!="undefined"&&"env"in d&&(o=d.env.DEBUG),o}E.formatArgs=function(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+L.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;o.splice(1,0,f,"color: inherit");let b=0,u=0;o[0].replace(/%[a-zA-Z%]/g,w=>{w==="%%"||(b++,w==="%c"&&(u=b))}),o.splice(u,0,f)},E.save=function(o){try{o?E.storage.setItem("debug",o):E.storage.removeItem("debug")}catch{}},E.load=x,E.useColors=function(){return!!(typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},E.storage=function(){try{return localStorage}catch{}}(),E.destroy=(()=>{let o=!1;return()=>{o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),E.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],E.log=console.debug||console.log||(()=>{}),L.exports=m("./common")(E);const{formatters:D}=L.exports;D.j=function(o){try{return JSON.stringify(o)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}).call(this)}).call(this,m("_process"))},{"./common":5,_process:12}],5:[function(m,L){L.exports=function(E){function d(o){function f(...w){if(!f.enabled)return;const B=f,k=+new Date,I=k-(b||k);B.diff=I,B.prev=b,B.curr=k,b=k,w[0]=d.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let c=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(p,C)=>{if(p==="%%")return"%";c++;const y=d.formatters[C];if(typeof y=="function"){const T=w[c];p=y.call(B,T),w.splice(c,1),c--}return p}),d.formatArgs.call(B,w),(B.log||d.log).apply(B,w)}let b,u=null;return f.namespace=o,f.useColors=d.useColors(),f.color=d.selectColor(o),f.extend=x,f.destroy=d.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>u===null?d.enabled(o):u,set:w=>{u=w}}),typeof d.init=="function"&&d.init(f),f}function x(o,f){const b=d(this.namespace+(typeof f=="undefined"?":":f)+o);return b.log=this.log,b}function D(o){return o.toString().substring(2,o.toString().length-2).replace(/\.\*\?$/,"*")}return d.debug=d,d.default=d,d.coerce=function(o){return o instanceof Error?o.stack||o.message:o},d.disable=function(){const o=[...d.names.map(D),...d.skips.map(D).map(f=>"-"+f)].join(",");return d.enable(""),o},d.enable=function(o){d.save(o),d.names=[],d.skips=[];let f;const b=(typeof o=="string"?o:"").split(/[\s,]+/),u=b.length;for(f=0;f<u;f++)b[f]&&(o=b[f].replace(/\*/g,".*?"),o[0]==="-"?d.skips.push(new RegExp("^"+o.substr(1)+"$")):d.names.push(new RegExp("^"+o+"$")))},d.enabled=function(o){if(o[o.length-1]==="*")return!0;let f,b;for(f=0,b=d.skips.length;f<b;f++)if(d.skips[f].test(o))return!1;for(f=0,b=d.names.length;f<b;f++)if(d.names[f].test(o))return!0;return!1},d.humanize=m("ms"),d.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(E).forEach(o=>{d[o]=E[o]}),d.names=[],d.skips=[],d.formatters={},d.selectColor=function(o){let f=0;for(let b=0;b<o.length;b++)f=(f<<5)-f+o.charCodeAt(b),f|=0;return d.colors[a(f)%d.colors.length]},d.enable(d.load()),d}},{ms:11}],6:[function(m,L){function E(d,x){for(const D in x)Object.defineProperty(d,D,{value:x[D],enumerable:!0,configurable:!0});return d}L.exports=function(d,x,D){if(!d||typeof d=="string")throw new TypeError("Please pass an Error to err-code");D||(D={}),typeof x=="object"&&(D=x,x=""),x&&(D.code=x);try{return E(d,D)}catch{D.message=d.message,D.stack=d.stack;const f=function(){};return f.prototype=Object.create(Object.getPrototypeOf(d)),E(new f,D)}}},{}],7:[function(m,L){function E(_){console&&console.warn&&console.warn(_)}function d(){d.init.call(this)}function x(_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _)}function D(_){return _._maxListeners===void 0?d.defaultMaxListeners:_._maxListeners}function o(_,R,F,j){var H,V,G;if(x(F),V=_._events,V===void 0?(V=_._events=Object.create(null),_._eventsCount=0):(V.newListener!==void 0&&(_.emit("newListener",R,F.listener?F.listener:F),V=_._events),G=V[R]),G===void 0)G=V[R]=F,++_._eventsCount;else if(typeof G=="function"?G=V[R]=j?[F,G]:[G,F]:j?G.unshift(F):G.push(F),H=D(_),0<H&&G.length>H&&!G.warned){G.warned=!0;var tt=new Error("Possible EventEmitter memory leak detected. "+G.length+" "+(R+" listeners added. Use emitter.setMaxListeners() to increase limit"));tt.name="MaxListenersExceededWarning",tt.emitter=_,tt.type=R,tt.count=G.length,E(tt)}return _}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(_,R,F){var j={fired:!1,wrapFn:void 0,target:_,type:R,listener:F},H=f.bind(j);return H.listener=F,j.wrapFn=H,H}function u(_,R,F){var j=_._events;if(j===void 0)return[];var H=j[R];return H===void 0?[]:typeof H=="function"?F?[H.listener||H]:[H]:F?I(H):B(H,H.length)}function w(_){var R=this._events;if(R!==void 0){var F=R[_];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}function B(_,R){for(var F=Array(R),j=0;j<R;++j)F[j]=_[j];return F}function k(_,R){for(;R+1<_.length;R++)_[R]=_[R+1];_.pop()}function I(_){for(var R=Array(_.length),F=0;F<R.length;++F)R[F]=_[F].listener||_[F];return R}function c(_,R,F){typeof _.on=="function"&&l(_,"error",R,F)}function l(_,R,F,j){if(typeof _.on=="function")j.once?_.once(R,F):_.on(R,F);else if(typeof _.addEventListener=="function")_.addEventListener(R,function H(V){j.once&&_.removeEventListener(R,H),F(V)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof _)}var p,C=typeof Reflect=="object"?Reflect:null,y=C&&typeof C.apply=="function"?C.apply:function(_,R,F){return Function.prototype.apply.call(_,R,F)};p=C&&typeof C.ownKeys=="function"?C.ownKeys:Object.getOwnPropertySymbols?function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:function(_){return Object.getOwnPropertyNames(_)};var T=Number.isNaN||function(_){return _!==_};L.exports=d,L.exports.once=function(_,R){return new Promise(function(F,j){function H(G){_.removeListener(R,V),j(G)}function V(){typeof _.removeListener=="function"&&_.removeListener("error",H),F([].slice.call(arguments))}l(_,R,V,{once:!0}),R!=="error"&&c(_,H,{once:!0})})},d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var P=10;Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return P},set:function(_){if(typeof _!="number"||0>_||T(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");P=_}}),d.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(_){if(typeof _!="number"||0>_||T(_))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_+".");return this._maxListeners=_,this},d.prototype.getMaxListeners=function(){return D(this)},d.prototype.emit=function(_){for(var R=[],F=1;F<arguments.length;F++)R.push(arguments[F]);var j=_==="error",H=this._events;if(H!==void 0)j=j&&H.error===void 0;else if(!j)return!1;if(j){var V;if(0<R.length&&(V=R[0]),V instanceof Error)throw V;var G=new Error("Unhandled error."+(V?" ("+V.message+")":""));throw G.context=V,G}var tt=H[_];if(tt===void 0)return!1;if(typeof tt=="function")y(tt,this,R);else for(var nt=tt.length,W=B(tt,nt),F=0;F<nt;++F)y(W[F],this,R);return!0},d.prototype.addListener=function(_,R){return o(this,_,R,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(_,R){return o(this,_,R,!0)},d.prototype.once=function(_,R){return x(R),this.on(_,b(this,_,R)),this},d.prototype.prependOnceListener=function(_,R){return x(R),this.prependListener(_,b(this,_,R)),this},d.prototype.removeListener=function(_,R){var F,j,H,V,G;if(x(R),j=this._events,j===void 0)return this;if(F=j[_],F===void 0)return this;if(F===R||F.listener===R)--this._eventsCount==0?this._events=Object.create(null):(delete j[_],j.removeListener&&this.emit("removeListener",_,F.listener||R));else if(typeof F!="function"){for(H=-1,V=F.length-1;0<=V;V--)if(F[V]===R||F[V].listener===R){G=F[V].listener,H=V;break}if(0>H)return this;H===0?F.shift():k(F,H),F.length===1&&(j[_]=F[0]),j.removeListener!==void 0&&this.emit("removeListener",_,G||R)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(_){var R,F,j;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[_]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete F[_]),this;if(arguments.length===0){var H,V=Object.keys(F);for(j=0;j<V.length;++j)H=V[j],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(R=F[_],typeof R=="function")this.removeListener(_,R);else if(R!==void 0)for(j=R.length-1;0<=j;j--)this.removeListener(_,R[j]);return this},d.prototype.listeners=function(_){return u(this,_,!0)},d.prototype.rawListeners=function(_){return u(this,_,!1)},d.listenerCount=function(_,R){return typeof _.listenerCount=="function"?_.listenerCount(R):w.call(_,R)},d.prototype.listenerCount=w,d.prototype.eventNames=function(){return 0<this._eventsCount?p(this._events):[]}},{}],8:[function(m,L){L.exports=function(){if(typeof globalThis=="undefined")return null;var E={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return E.RTCPeerConnection?E:null}},{}],9:[function(m,L,E){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */E.read=function(d,x,D,o,f){var b,u,w=8*f-o-1,B=(1<<w)-1,k=B>>1,I=-7,c=D?f-1:0,l=D?-1:1,p=d[x+c];for(c+=l,b=p&(1<<-I)-1,p>>=-I,I+=w;0<I;b=256*b+d[x+c],c+=l,I-=8);for(u=b&(1<<-I)-1,b>>=-I,I+=o;0<I;u=256*u+d[x+c],c+=l,I-=8);if(b===0)b=1-k;else{if(b===B)return u?NaN:(p?-1:1)*(1/0);u+=N(2,o),b-=k}return(p?-1:1)*u*N(2,b-o)},E.write=function(d,x,D,o,f,b){var u,w,B,k=Math.LN2,I=Math.log,c=8*b-f-1,l=(1<<c)-1,p=l>>1,C=f===23?N(2,-24)-N(2,-77):0,y=o?0:b-1,T=o?1:-1,P=0>x||x===0&&0>1/x?1:0;for(x=a(x),isNaN(x)||x===1/0?(w=isNaN(x)?1:0,u=l):(u=r(I(x)/k),1>x*(B=N(2,-u))&&(u--,B*=2),x+=1<=u+p?C/B:C*N(2,1-p),2<=x*B&&(u++,B/=2),u+p>=l?(w=0,u=l):1<=u+p?(w=(x*B-1)*N(2,f),u+=p):(w=x*N(2,p-1)*N(2,f),u=0));8<=f;d[D+y]=255&w,y+=T,w/=256,f-=8);for(u=u<<f|w,c+=f;0<c;d[D+y]=255&u,y+=T,u/=256,c-=8);d[D+y-T]|=128*P}},{}],10:[function(m,L){L.exports=typeof Object.create=="function"?function(E,d){d&&(E.super_=d,E.prototype=Object.create(d.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}))}:function(E,d){if(d){E.super_=d;var x=function(){};x.prototype=d.prototype,E.prototype=new x,E.prototype.constructor=E}}},{}],11:[function(m,L){var E=Math.round;function d(f){if(f+="",!(100<f.length)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(b){var u=parseFloat(b[1]),w=(b[2]||"ms").toLowerCase();return w==="years"||w==="year"||w==="yrs"||w==="yr"||w==="y"?315576e5*u:w==="weeks"||w==="week"||w==="w"?6048e5*u:w==="days"||w==="day"||w==="d"?864e5*u:w==="hours"||w==="hour"||w==="hrs"||w==="hr"||w==="h"?36e5*u:w==="minutes"||w==="minute"||w==="mins"||w==="min"||w==="m"?6e4*u:w==="seconds"||w==="second"||w==="secs"||w==="sec"||w==="s"?1e3*u:w==="milliseconds"||w==="millisecond"||w==="msecs"||w==="msec"||w==="ms"?u:void 0}}}function x(f){var b=a(f);return 864e5<=b?E(f/864e5)+"d":36e5<=b?E(f/36e5)+"h":6e4<=b?E(f/6e4)+"m":1e3<=b?E(f/1e3)+"s":f+"ms"}function D(f){var b=a(f);return 864e5<=b?o(f,b,864e5,"day"):36e5<=b?o(f,b,36e5,"hour"):6e4<=b?o(f,b,6e4,"minute"):1e3<=b?o(f,b,1e3,"second"):f+" ms"}function o(f,b,u,w){return E(f/u)+" "+w+(b>=1.5*u?"s":"")}L.exports=function(f,b){b=b||{};var u=typeof f;if(u=="string"&&0<f.length)return d(f);if(u==="number"&&isFinite(f))return b.long?D(f):x(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))}},{}],12:[function(m,L){function E(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function x(C){if(w===setTimeout)return setTimeout(C,0);if((w===E||!w)&&setTimeout)return w=setTimeout,setTimeout(C,0);try{return w(C,0)}catch{try{return w.call(null,C,0)}catch{return w.call(this,C,0)}}}function D(C){if(B===clearTimeout)return clearTimeout(C);if((B===d||!B)&&clearTimeout)return B=clearTimeout,clearTimeout(C);try{return B(C)}catch{try{return B.call(null,C)}catch{return B.call(this,C)}}}function o(){l&&I&&(l=!1,I.length?c=I.concat(c):p=-1,c.length&&f())}function f(){if(!l){var C=x(o);l=!0;for(var y=c.length;y;){for(I=c,c=[];++p<y;)I&&I[p].run();p=-1,y=c.length}I=null,l=!1,D(C)}}function b(C,y){this.fun=C,this.array=y}function u(){}var w,B,k=L.exports={};(function(){try{w=typeof setTimeout=="function"?setTimeout:E}catch{w=E}try{B=typeof clearTimeout=="function"?clearTimeout:d}catch{B=d}})();var I,c=[],l=!1,p=-1;k.nextTick=function(C){var y=Array(arguments.length-1);if(1<arguments.length)for(var T=1;T<arguments.length;T++)y[T-1]=arguments[T];c.push(new b(C,y)),c.length!==1||l||x(f)},b.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={},k.on=u,k.addListener=u,k.once=u,k.off=u,k.removeListener=u,k.removeAllListeners=u,k.emit=u,k.prependListener=u,k.prependOnceListener=u,k.listeners=function(){return[]},k.binding=function(){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(){throw new Error("process.chdir is not supported")},k.umask=function(){return 0}},{}],13:[function(m,L){(function(E){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let d;L.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window=="undefined"?E:window):x=>(d||(d=Promise.resolve())).then(x).catch(D=>setTimeout(()=>{throw D},0))}).call(this)}).call(this,typeof ht=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:ht)},{}],14:[function(m,L){(function(E,d){(function(){var x=m("safe-buffer").Buffer,D=d.crypto||d.msCrypto;L.exports=D&&D.getRandomValues?function(o,f){if(o>4294967295)throw new RangeError("requested too many random bytes");var b=x.allocUnsafe(o);if(0<o)if(65536<o)for(var u=0;u<o;u+=65536)D.getRandomValues(b.slice(u,u+65536));else D.getRandomValues(b);return typeof f=="function"?E.nextTick(function(){f(null,b)}):b}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,m("_process"),typeof ht=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:ht)},{_process:12,"safe-buffer":30}],15:[function(m,L){function E(u,w){u.prototype=Object.create(w.prototype),u.prototype.constructor=u,u.__proto__=w}function d(u,w,B){function k(c,l,p){return typeof w=="string"?w:w(c,l,p)}B||(B=Error);var I=function(c){function l(p,C,y){return c.call(this,k(p,C,y))||this}return E(l,c),l}(B);I.prototype.name=B.name,I.prototype.code=u,b[u]=I}function x(u,w){if(Array.isArray(u)){var B=u.length;return u=u.map(function(k){return k+""}),2<B?"one of ".concat(w," ").concat(u.slice(0,B-1).join(", "),", or ")+u[B-1]:B===2?"one of ".concat(w," ").concat(u[0]," or ").concat(u[1]):"of ".concat(w," ").concat(u[0])}return"of ".concat(w," ").concat(u+"")}function D(u,w,B){return u.substr(!B||0>B?0:+B,w.length)===w}function o(u,w,B){return(B===void 0||B>u.length)&&(B=u.length),u.substring(B-w.length,B)===w}function f(u,w,B){return typeof B!="number"&&(B=0),!(B+w.length>u.length)&&u.indexOf(w,B)!==-1}var b={};d("ERR_INVALID_OPT_VALUE",function(u,w){return'The value "'+w+'" is invalid for option "'+u+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(u,w,B){var k;typeof w=="string"&&D(w,"not ")?(k="must not be",w=w.replace(/^not /,"")):k="must be";var I;if(o(u," argument"))I="The ".concat(u," ").concat(k," ").concat(x(w,"type"));else{var c=f(u,".")?"property":"argument";I='The "'.concat(u,'" ').concat(c," ").concat(k," ").concat(x(w,"type"))}return I+=". Received type ".concat(typeof B),I},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),L.exports.codes=b},{}],16:[function(m,L){(function(E){(function(){function d(k){return this instanceof d?(f.call(this,k),b.call(this,k),this.allowHalfOpen=!0,void(k&&(k.readable===!1&&(this.readable=!1),k.writable===!1&&(this.writable=!1),k.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",x))))):new d(k)}function x(){this._writableState.ended||E.nextTick(D,this)}function D(k){k.end()}var o=Object.keys||function(k){var I=[];for(var c in k)I.push(c);return I};L.exports=d;var f=m("./_stream_readable"),b=m("./_stream_writable");m("inherits")(d,f);for(var u,w=o(b.prototype),B=0;B<w.length;B++)u=w[B],d.prototype[u]||(d.prototype[u]=b.prototype[u]);Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(k){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=k,this._writableState.destroyed=k)}})}).call(this)}).call(this,m("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(m,L){function E(x){return this instanceof E?void d.call(this,x):new E(x)}L.exports=E;var d=m("./_stream_transform");m("inherits")(E,d),E.prototype._transform=function(x,D,o){o(null,x)}},{"./_stream_transform":19,inherits:10}],18:[function(m,L){(function(E,d){(function(){function x(h){return ft.from(h)}function D(h){return ft.isBuffer(h)||h instanceof Q}function o(h,t,n){return typeof h.prependListener=="function"?h.prependListener(t,n):void(h._events&&h._events[t]?Array.isArray(h._events[t])?h._events[t].unshift(n):h._events[t]=[n,h._events[t]]:h.on(t,n))}function f(h,t,n){nt=nt||m("./_stream_duplex"),h=h||{},typeof n!="boolean"&&(n=t instanceof nt),this.objectMode=!!h.objectMode,n&&(this.objectMode=this.objectMode||!!h.readableObjectMode),this.highWaterMark=Ot(this,h,"readableHighWaterMark",n),this.buffer=new At,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=h.emitClose!==!1,this.autoDestroy=!!h.autoDestroy,this.destroyed=!1,this.defaultEncoding=h.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,h.encoding&&(!it&&(it=m("string_decoder/").StringDecoder),this.decoder=new it(h.encoding),this.encoding=h.encoding)}function b(h){if(nt=nt||m("./_stream_duplex"),!(this instanceof b))return new b(h);var t=this instanceof nt;this._readableState=new f(h,this,t),this.readable=!0,h&&(typeof h.read=="function"&&(this._read=h.read),typeof h.destroy=="function"&&(this._destroy=h.destroy)),rt.call(this)}function u(h,t,n,i,g){W("readableAddChunk",t);var v=h._readableState;if(t===null)v.reading=!1,c(h,v);else{var O;if(g||(O=B(v,t)),O)M(h,O);else if(!(v.objectMode||t&&0<t.length))i||(v.reading=!1,C(h,v));else if(typeof t=="string"||v.objectMode||Object.getPrototypeOf(t)===ft.prototype||(t=x(t)),i)v.endEmitted?M(h,new A):w(h,v,t,!0);else if(v.ended)M(h,new ot);else{if(v.destroyed)return!1;v.reading=!1,v.decoder&&!n?(t=v.decoder.write(t),v.objectMode||t.length!==0?w(h,v,t,!1):C(h,v)):w(h,v,t,!1)}}return!v.ended&&(v.length<v.highWaterMark||v.length===0)}function w(h,t,n,i){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,h.emit("data",n)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&l(h)),C(h,t)}function B(h,t){var n;return D(t)||typeof t=="string"||t===void 0||h.objectMode||(n=new st("chunk",["string","Buffer","Uint8Array"],t)),n}function k(h){return 1073741824<=h?h=1073741824:(h--,h|=h>>>1,h|=h>>>2,h|=h>>>4,h|=h>>>8,h|=h>>>16,h++),h}function I(h,t){return 0>=h||t.length===0&&t.ended?0:t.objectMode?1:h===h?(h>t.highWaterMark&&(t.highWaterMark=k(h)),h<=t.length?h:t.ended?t.length:(t.needReadable=!0,0)):t.flowing&&t.length?t.buffer.head.data.length:t.length}function c(h,t){if(W("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?l(h):(t.needReadable=!1,!t.emittedReadable&&(t.emittedReadable=!0,p(h)))}}function l(h){var t=h._readableState;W("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(W("emitReadable",t.flowing),t.emittedReadable=!0,E.nextTick(p,h))}function p(h){var t=h._readableState;W("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(h.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(h)}function C(h,t){t.readingMore||(t.readingMore=!0,E.nextTick(y,h,t))}function y(h,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var n=t.length;if(W("maybeReadMore read 0"),h.read(0),n===t.length)break}t.readingMore=!1}function T(h){return function(){var t=h._readableState;W("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&Et(h,"data")&&(t.flowing=!0,j(h))}}function P(h){var t=h._readableState;t.readableListening=0<h.listenerCount("readable"),t.resumeScheduled&&!t.paused?t.flowing=!0:0<h.listenerCount("data")&&h.resume()}function _(h){W("readable nexttick read 0"),h.read(0)}function R(h,t){t.resumeScheduled||(t.resumeScheduled=!0,E.nextTick(F,h,t))}function F(h,t){W("resume",t.reading),t.reading||h.read(0),t.resumeScheduled=!1,h.emit("resume"),j(h),t.flowing&&!t.reading&&h.read(0)}function j(h){var t=h._readableState;for(W("flow",t.flowing);t.flowing&&h.read()!==null;);}function H(h,t){if(t.length===0)return null;var n;return t.objectMode?n=t.buffer.shift():!h||h>=t.length?(n=t.decoder?t.buffer.join(""):t.buffer.length===1?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(h,t.decoder),n}function V(h){var t=h._readableState;W("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,E.nextTick(G,t,h))}function G(h,t){if(W("endReadableNT",h.endEmitted,h.length),!h.endEmitted&&h.length===0&&(h.endEmitted=!0,t.readable=!1,t.emit("end"),h.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function tt(h,t){for(var n=0,i=h.length;n<i;n++)if(h[n]===t)return n;return-1}L.exports=b;var nt;b.ReadableState=f;var W;m("events").EventEmitter;var Et=function(h,t){return h.listeners(t).length},rt=m("./internal/streams/stream"),ft=m("buffer").Buffer,Q=d.Uint8Array||function(){},J=m("util");W=J&&J.debuglog?J.debuglog("stream"):function(){};var it,dt,pt,At=m("./internal/streams/buffer_list"),_t=m("./internal/streams/destroy"),wt=m("./internal/streams/state"),Ot=wt.getHighWaterMark,gt=m("../errors").codes,st=gt.ERR_INVALID_ARG_TYPE,ot=gt.ERR_STREAM_PUSH_AFTER_EOF,S=gt.ERR_METHOD_NOT_IMPLEMENTED,A=gt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;m("inherits")(b,rt);var M=_t.errorOrDestroy,q=["error","close","destroy","pause","resume"];Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(h){this._readableState&&(this._readableState.destroyed=h)}}),b.prototype.destroy=_t.destroy,b.prototype._undestroy=_t.undestroy,b.prototype._destroy=function(h,t){t(h)},b.prototype.push=function(h,t){var n,i=this._readableState;return i.objectMode?n=!0:typeof h=="string"&&(t=t||i.defaultEncoding,t!==i.encoding&&(h=ft.from(h,t),t=""),n=!0),u(this,h,t,!1,n)},b.prototype.unshift=function(h){return u(this,h,null,!0,!1)},b.prototype.isPaused=function(){return this._readableState.flowing===!1},b.prototype.setEncoding=function(h){it||(it=m("string_decoder/").StringDecoder);var t=new it(h);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";n!==null;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},b.prototype.read=function(h){W("read",h),h=parseInt(h,10);var t=this._readableState,n=h;if(h!==0&&(t.emittedReadable=!1),h===0&&t.needReadable&&((t.highWaterMark===0?0<t.length:t.length>=t.highWaterMark)||t.ended))return W("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?V(this):l(this),null;if(h=I(h,t),h===0&&t.ended)return t.length===0&&V(this),null;var i=t.needReadable;W("need readable",i),(t.length===0||t.length-h<t.highWaterMark)&&(i=!0,W("length less than watermark",i)),t.ended||t.reading?(i=!1,W("reading or ended",i)):i&&(W("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,!t.reading&&(h=I(n,t)));var g;return g=0<h?H(h,t):null,g===null?(t.needReadable=t.length<=t.highWaterMark,h=0):(t.length-=h,t.awaitDrain=0),t.length===0&&(!t.ended&&(t.needReadable=!0),n!==h&&t.ended&&V(this)),g!==null&&this.emit("data",g),g},b.prototype._read=function(){M(this,new S("_read()"))},b.prototype.pipe=function(h,t){function n(Rt,St){W("onunpipe"),Rt===K&&St&&St.hasUnpiped===!1&&(St.hasUnpiped=!0,g())}function i(){W("onend"),h.end()}function g(){W("cleanup"),h.removeListener("close",U),h.removeListener("finish",z),h.removeListener("drain",Ct),h.removeListener("error",O),h.removeListener("unpipe",n),K.removeListener("end",i),K.removeListener("end",X),K.removeListener("data",v),xt=!0,Y.awaitDrain&&(!h._writableState||h._writableState.needDrain)&&Ct()}function v(Rt){W("ondata");var St=h.write(Rt);W("dest.write",St),St===!1&&((Y.pipesCount===1&&Y.pipes===h||1<Y.pipesCount&&tt(Y.pipes,h)!==-1)&&!xt&&(W("false write response, pause",Y.awaitDrain),Y.awaitDrain++),K.pause())}function O(Rt){W("onerror",Rt),X(),h.removeListener("error",O),Et(h,"error")===0&&M(h,Rt)}function U(){h.removeListener("finish",z),X()}function z(){W("onfinish"),h.removeListener("close",U),X()}function X(){W("unpipe"),K.unpipe(h)}var K=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=h;break;case 1:Y.pipes=[Y.pipes,h];break;default:Y.pipes.push(h)}Y.pipesCount+=1,W("pipe count=%d opts=%j",Y.pipesCount,t);var et=(!t||t.end!==!1)&&h!==E.stdout&&h!==E.stderr,vt=et?i:X;Y.endEmitted?E.nextTick(vt):K.once("end",vt),h.on("unpipe",n);var Ct=T(K);h.on("drain",Ct);var xt=!1;return K.on("data",v),o(h,"error",O),h.once("close",U),h.once("finish",z),h.emit("pipe",K),Y.flowing||(W("pipe resume"),K.resume()),h},b.prototype.unpipe=function(h){var t=this._readableState,n={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return h&&h!==t.pipes?this:(h||(h=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,h&&h.emit("unpipe",this,n),this);if(!h){var i=t.pipes,g=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var v=0;v<g;v++)i[v].emit("unpipe",this,{hasUnpiped:!1});return this}var O=tt(t.pipes,h);return O===-1?this:(t.pipes.splice(O,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),h.emit("unpipe",this,n),this)},b.prototype.on=function(h,t){var n=rt.prototype.on.call(this,h,t),i=this._readableState;return h==="data"?(i.readableListening=0<this.listenerCount("readable"),i.flowing!==!1&&this.resume()):h=="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,W("on readable",i.length,i.reading),i.length?l(this):!i.reading&&E.nextTick(_,this)),n},b.prototype.addListener=b.prototype.on,b.prototype.removeListener=function(h,t){var n=rt.prototype.removeListener.call(this,h,t);return h==="readable"&&E.nextTick(P,this),n},b.prototype.removeAllListeners=function(h){var t=rt.prototype.removeAllListeners.apply(this,arguments);return(h==="readable"||h===void 0)&&E.nextTick(P,this),t},b.prototype.resume=function(){var h=this._readableState;return h.flowing||(W("resume"),h.flowing=!h.readableListening,R(this,h)),h.paused=!1,this},b.prototype.pause=function(){return W("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(W("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},b.prototype.wrap=function(h){var t=this,n=this._readableState,i=!1;for(var g in h.on("end",function(){if(W("wrapped end"),n.decoder&&!n.ended){var O=n.decoder.end();O&&O.length&&t.push(O)}t.push(null)}),h.on("data",function(O){if(W("wrapped data"),n.decoder&&(O=n.decoder.write(O)),!(n.objectMode&&O==null)&&(n.objectMode||O&&O.length)){var U=t.push(O);U||(i=!0,h.pause())}}),h)this[g]===void 0&&typeof h[g]=="function"&&(this[g]=function(O){return function(){return h[O].apply(h,arguments)}}(g));for(var v=0;v<q.length;v++)h.on(q[v],this.emit.bind(this,q[v]));return this._read=function(O){W("wrapped _read",O),i&&(i=!1,h.resume())},this},typeof Symbol=="function"&&(b.prototype[Symbol.asyncIterator]=function(){return dt===void 0&&(dt=m("./internal/streams/async_iterator")),dt(this)}),Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(b.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(b.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(h){this._readableState&&(this._readableState.flowing=h)}}),b._fromList=H,Object.defineProperty(b.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(b.from=function(h,t){return pt===void 0&&(pt=m("./internal/streams/from")),pt(b,h,t)})}).call(this)}).call(this,m("_process"),typeof ht=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:ht)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(m,L){function E(k,I){var c=this._transformState;c.transforming=!1;var l=c.writecb;if(l===null)return this.emit("error",new b);c.writechunk=null,c.writecb=null,I!=null&&this.push(I),l(k);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function d(k){return this instanceof d?(B.call(this,k),this._transformState={afterTransform:E.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,k&&(typeof k.transform=="function"&&(this._transform=k.transform),typeof k.flush=="function"&&(this._flush=k.flush)),void this.on("prefinish",x)):new d(k)}function x(){var k=this;typeof this._flush!="function"||this._readableState.destroyed?D(this,null,null):this._flush(function(I,c){D(k,I,c)})}function D(k,I,c){if(I)return k.emit("error",I);if(c!=null&&k.push(c),k._writableState.length)throw new w;if(k._transformState.transforming)throw new u;return k.push(null)}L.exports=d;var o=m("../errors").codes,f=o.ERR_METHOD_NOT_IMPLEMENTED,b=o.ERR_MULTIPLE_CALLBACK,u=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=o.ERR_TRANSFORM_WITH_LENGTH_0,B=m("./_stream_duplex");m("inherits")(d,B),d.prototype.push=function(k,I){return this._transformState.needTransform=!1,B.prototype.push.call(this,k,I)},d.prototype._transform=function(k,I,c){c(new f("_transform()"))},d.prototype._write=function(k,I,c){var l=this._transformState;if(l.writecb=c,l.writechunk=k,l.writeencoding=I,!l.transforming){var p=this._readableState;(l.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},d.prototype._read=function(){var k=this._transformState;k.writechunk===null||k.transforming?k.needTransform=!0:(k.transforming=!0,this._transform(k.writechunk,k.writeencoding,k.afterTransform))},d.prototype._destroy=function(k,I){B.prototype._destroy.call(this,k,function(c){I(c)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(m,L){(function(E,d){(function(){function x(S){var A=this;this.next=null,this.entry=null,this.finish=function(){V(A,S)}}function D(S){return W.from(S)}function o(S){return W.isBuffer(S)||S instanceof Et}function f(){}function b(S,A,M){G=G||m("./_stream_duplex"),S=S||{},typeof M!="boolean"&&(M=A instanceof G),this.objectMode=!!S.objectMode,M&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=Q(this,S,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=S.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(h){C(A,h)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new x(this)}function u(S){G=G||m("./_stream_duplex");var A=this instanceof G;return A||ot.call(u,this)?(this._writableState=new b(S,this,A),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),void nt.call(this)):new u(S)}function w(S,A){var M=new Ot;st(S,M),E.nextTick(A,M)}function B(S,A,M,q){var h;return M===null?h=new wt:typeof M!="string"&&!A.objectMode&&(h=new it("chunk",["string","Buffer"],M)),!h||(st(S,h),E.nextTick(q,h),!1)}function k(S,A,M){return S.objectMode||S.decodeStrings===!1||typeof A!="string"||(A=W.from(A,M)),A}function I(S,A,M,q,h,t){if(!M){var n=k(A,q,h);q!==n&&(M=!0,h="buffer",q=n)}var i=A.objectMode?1:q.length;A.length+=i;var g=A.length<A.highWaterMark;if(g||(A.needDrain=!0),A.writing||A.corked){var v=A.lastBufferedRequest;A.lastBufferedRequest={chunk:q,encoding:h,isBuf:M,callback:t,next:null},v?v.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else c(S,A,!1,i,q,h,t);return g}function c(S,A,M,q,h,t,n){A.writelen=q,A.writecb=n,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new _t("write")):M?S._writev(h,A.onwrite):S._write(h,t,A.onwrite),A.sync=!1}function l(S,A,M,q,h){--A.pendingcb,M?(E.nextTick(h,q),E.nextTick(j,S,A),S._writableState.errorEmitted=!0,st(S,q)):(h(q),S._writableState.errorEmitted=!0,st(S,q),j(S,A))}function p(S){S.writing=!1,S.writecb=null,S.length-=S.writelen,S.writelen=0}function C(S,A){var M=S._writableState,q=M.sync,h=M.writecb;if(typeof h!="function")throw new pt;if(p(M),A)l(S,M,q,A,h);else{var t=_(M)||S.destroyed;t||M.corked||M.bufferProcessing||!M.bufferedRequest||P(S,M),q?E.nextTick(y,S,M,t,h):y(S,M,t,h)}}function y(S,A,M,q){M||T(S,A),A.pendingcb--,q(),j(S,A)}function T(S,A){A.length===0&&A.needDrain&&(A.needDrain=!1,S.emit("drain"))}function P(S,A){A.bufferProcessing=!0;var M=A.bufferedRequest;if(S._writev&&M&&M.next){var q=A.bufferedRequestCount,h=Array(q),t=A.corkedRequestsFree;t.entry=M;for(var n=0,i=!0;M;)h[n]=M,M.isBuf||(i=!1),M=M.next,n+=1;h.allBuffers=i,c(S,A,!0,A.length,h,"",t.finish),A.pendingcb++,A.lastBufferedRequest=null,t.next?(A.corkedRequestsFree=t.next,t.next=null):A.corkedRequestsFree=new x(A),A.bufferedRequestCount=0}else{for(;M;){var g=M.chunk,v=M.encoding,O=M.callback,U=A.objectMode?1:g.length;if(c(S,A,!1,U,g,v,O),M=M.next,A.bufferedRequestCount--,A.writing)break}M===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=M,A.bufferProcessing=!1}function _(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function R(S,A){S._final(function(M){A.pendingcb--,M&&st(S,M),A.prefinished=!0,S.emit("prefinish"),j(S,A)})}function F(S,A){A.prefinished||A.finalCalled||(typeof S._final!="function"||A.destroyed?(A.prefinished=!0,S.emit("prefinish")):(A.pendingcb++,A.finalCalled=!0,E.nextTick(R,S,A)))}function j(S,A){var M=_(A);if(M&&(F(S,A),A.pendingcb===0&&(A.finished=!0,S.emit("finish"),A.autoDestroy))){var q=S._readableState;(!q||q.autoDestroy&&q.endEmitted)&&S.destroy()}return M}function H(S,A,M){A.ending=!0,j(S,A),M&&(A.finished?E.nextTick(M):S.once("finish",M)),A.ended=!0,S.writable=!1}function V(S,A,M){var q=S.entry;for(S.entry=null;q;){var h=q.callback;A.pendingcb--,h(M),q=q.next}A.corkedRequestsFree.next=S}L.exports=u;var G;u.WritableState=b;var tt={deprecate:m("util-deprecate")},nt=m("./internal/streams/stream"),W=m("buffer").Buffer,Et=d.Uint8Array||function(){},rt=m("./internal/streams/destroy"),ft=m("./internal/streams/state"),Q=ft.getHighWaterMark,J=m("../errors").codes,it=J.ERR_INVALID_ARG_TYPE,dt=J.ERR_METHOD_NOT_IMPLEMENTED,pt=J.ERR_MULTIPLE_CALLBACK,At=J.ERR_STREAM_CANNOT_PIPE,_t=J.ERR_STREAM_DESTROYED,wt=J.ERR_STREAM_NULL_VALUES,Ot=J.ERR_STREAM_WRITE_AFTER_END,gt=J.ERR_UNKNOWN_ENCODING,st=rt.errorOrDestroy;m("inherits")(u,nt),b.prototype.getBuffer=function(){for(var S=this.bufferedRequest,A=[];S;)A.push(S),S=S.next;return A},function(){try{Object.defineProperty(b.prototype,"buffer",{get:tt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ot;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ot=Function.prototype[Symbol.hasInstance],Object.defineProperty(u,Symbol.hasInstance,{value:function(S){return!!ot.call(this,S)||this===u&&S&&S._writableState instanceof b}})):ot=function(S){return S instanceof this},u.prototype.pipe=function(){st(this,new At)},u.prototype.write=function(S,A,M){var q=this._writableState,h=!1,t=!q.objectMode&&o(S);return t&&!W.isBuffer(S)&&(S=D(S)),typeof A=="function"&&(M=A,A=null),t?A="buffer":!A&&(A=q.defaultEncoding),typeof M!="function"&&(M=f),q.ending?w(this,M):(t||B(this,q,S,M))&&(q.pendingcb++,h=I(this,q,t,S,A,M)),h},u.prototype.cork=function(){this._writableState.corked++},u.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,!S.writing&&!S.corked&&!S.bufferProcessing&&S.bufferedRequest&&P(this,S))},u.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())))throw new gt(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),u.prototype._write=function(S,A,M){M(new dt("_write()"))},u.prototype._writev=null,u.prototype.end=function(S,A,M){var q=this._writableState;return typeof S=="function"?(M=S,S=null,A=null):typeof A=="function"&&(M=A,A=null),S!=null&&this.write(S,A),q.corked&&(q.corked=1,this.uncork()),q.ending||H(this,q,M),this},Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),u.prototype.destroy=rt.destroy,u.prototype._undestroy=rt.undestroy,u.prototype._destroy=function(S,A){A(S)}}).call(this)}).call(this,m("_process"),typeof ht=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:ht)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(m,L){(function(E){(function(){function d(T,P,_){return P in T?Object.defineProperty(T,P,{value:_,enumerable:!0,configurable:!0,writable:!0}):T[P]=_,T}function x(T,P){return{value:T,done:P}}function D(T){var P=T[w];if(P!==null){var _=T[p].read();_!==null&&(T[c]=null,T[w]=null,T[B]=null,P(x(_,!1)))}}function o(T){E.nextTick(D,T)}function f(T,P){return function(_,R){T.then(function(){return P[I]?void _(x(void 0,!0)):void P[l](_,R)},R)}}var b,u=m("./end-of-stream"),w=Symbol("lastResolve"),B=Symbol("lastReject"),k=Symbol("error"),I=Symbol("ended"),c=Symbol("lastPromise"),l=Symbol("handlePromise"),p=Symbol("stream"),C=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((b={get stream(){return this[p]},next:function(){var T=this,P=this[k];if(P!==null)return Promise.reject(P);if(this[I])return Promise.resolve(x(void 0,!0));if(this[p].destroyed)return new Promise(function(j,H){E.nextTick(function(){T[k]?H(T[k]):j(x(void 0,!0))})});var _,R=this[c];if(R)_=new Promise(f(R,this));else{var F=this[p].read();if(F!==null)return Promise.resolve(x(F,!1));_=new Promise(this[l])}return this[c]=_,_}},d(b,Symbol.asyncIterator,function(){return this}),d(b,"return",function(){var T=this;return new Promise(function(P,_){T[p].destroy(null,function(R){return R?void _(R):void P(x(void 0,!0))})})}),b),C);L.exports=function(T){var P,_=Object.create(y,(P={},d(P,p,{value:T,writable:!0}),d(P,w,{value:null,writable:!0}),d(P,B,{value:null,writable:!0}),d(P,k,{value:null,writable:!0}),d(P,I,{value:T._readableState.endEmitted,writable:!0}),d(P,l,{value:function(R,F){var j=_[p].read();j?(_[c]=null,_[w]=null,_[B]=null,R(x(j,!1))):(_[w]=R,_[B]=F)},writable:!0}),P));return _[c]=null,u(T,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=_[B];return F!==null&&(_[c]=null,_[w]=null,_[B]=null,F(R)),void(_[k]=R)}var j=_[w];j!==null&&(_[c]=null,_[w]=null,_[B]=null,j(x(void 0,!0))),_[I]=!0}),T.on("readable",o.bind(null,_)),_}}).call(this)}).call(this,m("_process"))},{"./end-of-stream":24,_process:12}],22:[function(m,L){function E(c,l){var p=Object.keys(c);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(c);l&&(C=C.filter(function(y){return Object.getOwnPropertyDescriptor(c,y).enumerable})),p.push.apply(p,C)}return p}function d(c){for(var l,p=1;p<arguments.length;p++)l=arguments[p]==null?{}:arguments[p],p%2?E(Object(l),!0).forEach(function(C){x(c,C,l[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(l)):E(Object(l)).forEach(function(C){Object.defineProperty(c,C,Object.getOwnPropertyDescriptor(l,C))});return c}function x(c,l,p){return l in c?Object.defineProperty(c,l,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[l]=p,c}function D(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}function o(c,l){for(var p,C=0;C<l.length;C++)p=l[C],p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(c,p.key,p)}function f(c,l,p){return l&&o(c.prototype,l),p&&o(c,p),c}function b(c,l,p){w.prototype.copy.call(c,l,p)}var u=m("buffer"),w=u.Buffer,B=m("util"),k=B.inspect,I=k&&k.custom||"inspect";L.exports=function(){function c(){D(this,c),this.head=null,this.tail=null,this.length=0}return f(c,[{key:"push",value:function(l){var p={data:l,next:null};0<this.length?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(l){var p={data:l,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(this.length!==0){var l=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,l}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(l){if(this.length===0)return"";for(var p=this.head,C=""+p.data;p=p.next;)C+=l+p.data;return C}},{key:"concat",value:function(l){if(this.length===0)return w.alloc(0);for(var p=w.allocUnsafe(l>>>0),C=this.head,y=0;C;)b(C.data,p,y),y+=C.data.length,C=C.next;return p}},{key:"consume",value:function(l,p){var C;return l<this.head.data.length?(C=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):l===this.head.data.length?C=this.shift():C=p?this._getString(l):this._getBuffer(l),C}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(l){var p=this.head,C=1,y=p.data;for(l-=y.length;p=p.next;){var T=p.data,P=l>T.length?T.length:l;if(y+=P===T.length?T:T.slice(0,l),l-=P,l===0){P===T.length?(++C,this.head=p.next?p.next:this.tail=null):(this.head=p,p.data=T.slice(P));break}++C}return this.length-=C,y}},{key:"_getBuffer",value:function(l){var p=w.allocUnsafe(l),C=this.head,y=1;for(C.data.copy(p),l-=C.data.length;C=C.next;){var T=C.data,P=l>T.length?T.length:l;if(T.copy(p,p.length-l,0,P),l-=P,l===0){P===T.length?(++y,this.head=C.next?C.next:this.tail=null):(this.head=C,C.data=T.slice(P));break}++y}return this.length-=y,p}},{key:I,value:function(l,p){return k(this,d({},p,{depth:0,customInspect:!1}))}}]),c}()},{buffer:3,util:2}],23:[function(m,L){(function(E){(function(){function d(o,f){D(o,f),x(o)}function x(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function D(o,f){o.emit("error",f)}L.exports={destroy:function(o,f){var b=this,u=this._readableState&&this._readableState.destroyed,w=this._writableState&&this._writableState.destroyed;return u||w?(f?f(o):o&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,E.nextTick(D,this,o)):E.nextTick(D,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(B){!f&&B?b._writableState?b._writableState.errorEmitted?E.nextTick(x,b):(b._writableState.errorEmitted=!0,E.nextTick(d,b,B)):E.nextTick(d,b,B):f?(E.nextTick(x,b),f(B)):E.nextTick(x,b)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(o,f){var b=o._readableState,u=o._writableState;b&&b.autoDestroy||u&&u.autoDestroy?o.destroy(f):o.emit("error",f)}}}).call(this)}).call(this,m("_process"))},{_process:12}],24:[function(m,L){function E(f){var b=!1;return function(){if(!b){b=!0;for(var u=arguments.length,w=Array(u),B=0;B<u;B++)w[B]=arguments[B];f.apply(this,w)}}}function d(){}function x(f){return f.setHeader&&typeof f.abort=="function"}function D(f,b,u){if(typeof b=="function")return D(f,null,b);b||(b={}),u=E(u||d);var w=b.readable||b.readable!==!1&&f.readable,B=b.writable||b.writable!==!1&&f.writable,k=function(){f.writable||c()},I=f._writableState&&f._writableState.finished,c=function(){B=!1,I=!0,w||u.call(f)},l=f._readableState&&f._readableState.endEmitted,p=function(){w=!1,l=!0,B||u.call(f)},C=function(P){u.call(f,P)},y=function(){var P;return w&&!l?(f._readableState&&f._readableState.ended||(P=new o),u.call(f,P)):B&&!I?(f._writableState&&f._writableState.ended||(P=new o),u.call(f,P)):void 0},T=function(){f.req.on("finish",c)};return x(f)?(f.on("complete",c),f.on("abort",y),f.req?T():f.on("request",T)):B&&!f._writableState&&(f.on("end",k),f.on("close",k)),f.on("end",p),f.on("finish",c),b.error!==!1&&f.on("error",C),f.on("close",y),function(){f.removeListener("complete",c),f.removeListener("abort",y),f.removeListener("request",T),f.req&&f.req.removeListener("finish",c),f.removeListener("end",k),f.removeListener("close",k),f.removeListener("finish",c),f.removeListener("end",p),f.removeListener("error",C),f.removeListener("close",y)}}var o=m("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;L.exports=D},{"../../../errors":15}],25:[function(m,L){L.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(m,L){function E(I){var c=!1;return function(){c||(c=!0,I.apply(void 0,arguments))}}function d(I){if(I)throw I}function x(I){return I.setHeader&&typeof I.abort=="function"}function D(I,c,l,p){p=E(p);var C=!1;I.on("close",function(){C=!0}),u===void 0&&(u=m("./end-of-stream")),u(I,{readable:c,writable:l},function(T){return T?p(T):(C=!0,void p())});var y=!1;return function(T){if(!C)return y?void 0:(y=!0,x(I)?I.abort():typeof I.destroy=="function"?I.destroy():void p(T||new k("pipe")))}}function o(I){I()}function f(I,c){return I.pipe(c)}function b(I){return I.length&&typeof I[I.length-1]=="function"?I.pop():d}var u,w=m("../../../errors").codes,B=w.ERR_MISSING_ARGS,k=w.ERR_STREAM_DESTROYED;L.exports=function(){for(var I=arguments.length,c=Array(I),l=0;l<I;l++)c[l]=arguments[l];var p=b(c);if(Array.isArray(c[0])&&(c=c[0]),2>c.length)throw new B("streams");var C,y=c.map(function(T,P){var _=P<c.length-1;return D(T,_,0<P,function(R){C||(C=R),R&&y.forEach(o),_||(y.forEach(o),p(C))})});return c.reduce(f)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(m,L){function E(x,D,o){return x.highWaterMark==null?D?x[o]:null:x.highWaterMark}var d=m("../../../errors").codes.ERR_INVALID_OPT_VALUE;L.exports={getHighWaterMark:function(x,D,o,f){var b=E(D,f,o);if(b!=null){if(!(isFinite(b)&&r(b)===b)||0>b){var u=f?o:"highWaterMark";throw new d(u,b)}return r(b)}return x.objectMode?16:16384}}},{"../../../errors":15}],28:[function(m,L){L.exports=m("events").EventEmitter},{events:7}],29:[function(m,L,E){E=L.exports=m("./lib/_stream_readable.js"),E.Stream=E,E.Readable=E,E.Writable=m("./lib/_stream_writable.js"),E.Duplex=m("./lib/_stream_duplex.js"),E.Transform=m("./lib/_stream_transform.js"),E.PassThrough=m("./lib/_stream_passthrough.js"),E.finished=m("./lib/internal/streams/end-of-stream.js"),E.pipeline=m("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(m,L,E){function d(f,b){for(var u in f)b[u]=f[u]}function x(f,b,u){return o(f,b,u)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var D=m("buffer"),o=D.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?L.exports=D:(d(D,E),E.Buffer=x),x.prototype=Object.create(o.prototype),d(o,x),x.from=function(f,b,u){if(typeof f=="number")throw new TypeError("Argument must not be a number");return o(f,b,u)},x.alloc=function(f,b,u){if(typeof f!="number")throw new TypeError("Argument must be a number");var w=o(f);return b===void 0?w.fill(0):typeof u=="string"?w.fill(b,u):w.fill(b),w},x.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return o(f)},x.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return D.SlowBuffer(f)}},{buffer:3}],31:[function(m,L,E){function d(y){if(!y)return"utf8";for(var T;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(T)return;y=(""+y).toLowerCase(),T=!0}}function x(y){var T=d(y);if(typeof T!="string"&&(p.isEncoding===C||!C(y)))throw new Error("Unknown encoding: "+y);return T||y}function D(y){this.encoding=x(y);var T;switch(this.encoding){case"utf16le":this.text=w,this.end=B,T=4;break;case"utf8":this.fillLast=u,T=4;break;case"base64":this.text=k,this.end=I,T=3;break;default:return this.write=c,void(this.end=l)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(T)}function o(y){return 127>=y?0:y>>5==6?2:y>>4==14?3:y>>3==30?4:y>>6==2?-1:-2}function f(y,T,P){var _=T.length-1;if(_<P)return 0;var R=o(T[_]);return 0<=R?(0<R&&(y.lastNeed=R-1),R):--_<P||R===-2?0:(R=o(T[_]),0<=R?(0<R&&(y.lastNeed=R-2),R):--_<P||R===-2?0:(R=o(T[_]),0<=R?(0<R&&(R===2?R=0:y.lastNeed=R-3),R):0))}function b(y,T){if((192&T[0])!=128)return y.lastNeed=0,"\uFFFD";if(1<y.lastNeed&&1<T.length){if((192&T[1])!=128)return y.lastNeed=1,"\uFFFD";if(2<y.lastNeed&&2<T.length&&(192&T[2])!=128)return y.lastNeed=2,"\uFFFD"}}function u(y){var T=this.lastTotal-this.lastNeed,P=b(this,y);return P===void 0?this.lastNeed<=y.length?(y.copy(this.lastChar,T,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(y.copy(this.lastChar,T,0,y.length),void(this.lastNeed-=y.length)):P}function w(y,T){if((y.length-T)%2==0){var P=y.toString("utf16le",T);if(P){var _=P.charCodeAt(P.length-1);if(55296<=_&&56319>=_)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],P.slice(0,-1)}return P}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",T,y.length-1)}function B(y){var T=y&&y.length?this.write(y):"";if(this.lastNeed){var P=this.lastTotal-this.lastNeed;return T+this.lastChar.toString("utf16le",0,P)}return T}function k(y,T){var P=(y.length-T)%3;return P==0?y.toString("base64",T):(this.lastNeed=3-P,this.lastTotal=3,P==1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",T,y.length-P))}function I(y){var T=y&&y.length?this.write(y):"";return this.lastNeed?T+this.lastChar.toString("base64",0,3-this.lastNeed):T}function c(y){return y.toString(this.encoding)}function l(y){return y&&y.length?this.write(y):""}var p=m("safe-buffer").Buffer,C=p.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};E.StringDecoder=D,D.prototype.write=function(y){if(y.length===0)return"";var T,P;if(this.lastNeed){if(T=this.fillLast(y),T===void 0)return"";P=this.lastNeed,this.lastNeed=0}else P=0;return P<y.length?T?T+this.text(y,P):this.text(y,P):T||""},D.prototype.end=function(y){var T=y&&y.length?this.write(y):"";return this.lastNeed?T+"\uFFFD":T},D.prototype.text=function(y,T){var P=f(this,y,T);if(!this.lastNeed)return y.toString("utf8",T);this.lastTotal=P;var _=y.length-(P-this.lastNeed);return y.copy(this.lastChar,0,_),y.toString("utf8",T,_)},D.prototype.fillLast=function(y){return this.lastNeed<=y.length?(y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),void(this.lastNeed-=y.length))}},{"safe-buffer":30}],32:[function(m,L){(function(E){(function(){function d(x){try{if(!E.localStorage)return!1}catch{return!1}var D=E.localStorage[x];return D!=null&&(D+"").toLowerCase()==="true"}L.exports=function(x,D){function o(){if(!f){if(d("throwDeprecation"))throw new Error(D);d("traceDeprecation")?console.trace(D):console.warn(D),f=!0}return x.apply(this,arguments)}if(d("noDeprecation"))return x;var f=!1;return o}}).call(this)}).call(this,typeof ht=="undefined"?typeof self=="undefined"?typeof window=="undefined"?{}:window:self:ht)},{}],"/":[function(m,L){function E(I){return I.replace(/a=ice-options:trickle\s\n/g,"")}function d(I){console.warn(I)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const x=m("debug")("simple-peer"),D=m("get-browser-rtc"),o=m("randombytes"),f=m("readable-stream"),b=m("queue-microtask"),u=m("err-code"),{Buffer:w}=m("buffer"),B=65536;class k extends f.Duplex{constructor(c){if(c=Object.assign({allowHalfOpen:!1},c),super(c),this._id=o(4).toString("hex").slice(0,7),this._debug("new peer %o",c),this.channelName=c.initiator?c.channelName||o(20).toString("hex"):null,this.initiator=c.initiator||!1,this.channelConfig=c.channelConfig||k.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},k.config,c.config),this.offerOptions=c.offerOptions||{},this.answerOptions=c.answerOptions||{},this.sdpTransform=c.sdpTransform||(l=>l),this.streams=c.streams||(c.stream?[c.stream]:[]),this.trickle=c.trickle===void 0||c.trickle,this.allowHalfTrickle=c.allowHalfTrickle!==void 0&&c.allowHalfTrickle,this.iceCompleteTimeout=c.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=c.wrtc&&typeof c.wrtc=="object"?c.wrtc:D(),!this._wrtc)throw u(typeof window=="undefined"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(l){return void this.destroy(u(l,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=l=>{this._onIceCandidate(l)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(l=>{this.destroy(u(l,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=l=>{this._setupData(l)},this.streams&&this.streams.forEach(l=>{this.addStream(l)}),this._pc.ontrack=l=>{this._onTrack(l)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(c){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof c=="string")try{c=JSON.parse(c)}catch{c={}}this._debug("signal()"),c.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),c.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(c.transceiverRequest.kind,c.transceiverRequest.init)),c.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(c.candidate):this._pendingCandidates.push(c.candidate)),c.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(c)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(l=>{this._addIceCandidate(l)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(l=>{this.destroy(u(l,"ERR_SET_REMOTE_DESCRIPTION"))}),c.sdp||c.candidate||c.renegotiate||c.transceiverRequest||this.destroy(u(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(c){const l=new this._wrtc.RTCIceCandidate(c);this._pc.addIceCandidate(l).catch(p=>{!l.address||l.address.endsWith(".local")?d("Ignoring unsupported ICE candidate."):this.destroy(u(p,"ERR_ADD_ICE_CANDIDATE"))})}send(c){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(c)}}addTransceiver(c,l){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(c,l),this._needsNegotiation()}catch(p){this.destroy(u(p,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:c,init:l}})}}addStream(c){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),c.getTracks().forEach(l=>{this.addTrack(l,c)})}}addTrack(c,l){if(this.destroying)return;if(this.destroyed)throw u(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const p=this._senderMap.get(c)||new Map;let C=p.get(l);if(!C)C=this._pc.addTrack(c,l),p.set(l,C),this._senderMap.set(c,p),this._needsNegotiation();else throw C.removed?u(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):u(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(c,l,p){if(this.destroying)return;if(this.destroyed)throw u(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const C=this._senderMap.get(c),y=C?C.get(p):null;if(!y)throw u(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");l&&this._senderMap.set(l,C),y.replaceTrack==null?this.destroy(u(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):y.replaceTrack(l)}removeTrack(c,l){if(this.destroying)return;if(this.destroyed)throw u(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const p=this._senderMap.get(c),C=p?p.get(l):null;if(!C)throw u(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{C.removed=!0,this._pc.removeTrack(C)}catch(y){y.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(C):this.destroy(u(y,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(c){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),c.getTracks().forEach(l=>{this.removeTrack(l,c)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,b(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(c){this._destroy(c,()=>{})}_destroy(c,l){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",c&&(c.message||c)),b(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",c&&(c.message||c)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,c&&this.emit("error",c),this.emit("close"),l()}))}_setupData(c){if(!c.channel)return this.destroy(u(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=c.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=B),this.channelName=this._channel.label,this._channel.onmessage=p=>{this._onChannelMessage(p)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=p=>{const C=p.error instanceof Error?p.error:new Error(`Datachannel error: ${p.message} ${p.filename}:${p.lineno}:${p.colno}`);this.destroy(u(C,"ERR_DATA_CHANNEL"))};let l=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(l&&this._onChannelClose(),l=!0):l=!1},5e3)}_read(){}_write(c,l,p){if(this.destroyed)return p(u(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(c)}catch(C){return this.destroy(u(C,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>B?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=p):p(null)}else this._debug("write before connect"),this._chunk=c,this._cb=p}_onFinish(){if(!this.destroyed){const c=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?c():this.once("connect",c)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(c=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(c.sdp=E(c.sdp)),c.sdp=this.sdpTransform(c.sdp);const l=()=>{if(!this.destroyed){const p=this._pc.localDescription||c;this._debug("signal"),this.emit("signal",{type:p.type,sdp:p.sdp})}};this._pc.setLocalDescription(c).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?l():this.once("_iceComplete",l))}).catch(p=>{this.destroy(u(p,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(c=>{this.destroy(u(c,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(c=>{c.mid||!c.sender.track||c.requested||(c.requested=!0,this.addTransceiver(c.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(c=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(c.sdp=E(c.sdp)),c.sdp=this.sdpTransform(c.sdp);const l=()=>{if(!this.destroyed){const p=this._pc.localDescription||c;this._debug("signal"),this.emit("signal",{type:p.type,sdp:p.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(c).then(()=>{this.destroyed||(this.trickle||this._iceComplete?l():this.once("_iceComplete",l))}).catch(p=>{this.destroy(u(p,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(c=>{this.destroy(u(c,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(u(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const c=this._pc.iceConnectionState,l=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",c,l),this.emit("iceStateChange",c,l),(c==="connected"||c==="completed")&&(this._pcReady=!0,this._maybeReady()),c==="failed"&&this.destroy(u(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),c==="closed"&&this.destroy(u(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(c){const l=p=>(Object.prototype.toString.call(p.values)==="[object Array]"&&p.values.forEach(C=>{Object.assign(p,C)}),p);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(p=>{const C=[];p.forEach(y=>{C.push(l(y))}),c(null,C)},p=>c(p)):0<this._pc.getStats.length?this._pc.getStats(p=>{if(this.destroyed)return;const C=[];p.result().forEach(y=>{const T={};y.names().forEach(P=>{T[P]=y.stat(P)}),T.id=y.id,T.type=y.type,T.timestamp=y.timestamp,C.push(l(T))}),c(null,C)},p=>c(p)):c(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const c=()=>{this.destroyed||this.getStats((l,p)=>{if(this.destroyed)return;l&&(p=[]);const C={},y={},T={};let P=!1;p.forEach(R=>{(R.type==="remotecandidate"||R.type==="remote-candidate")&&(C[R.id]=R),(R.type==="localcandidate"||R.type==="local-candidate")&&(y[R.id]=R),(R.type==="candidatepair"||R.type==="candidate-pair")&&(T[R.id]=R)});const _=R=>{P=!0;let F=y[R.localCandidateId];F&&(F.ip||F.address)?(this.localAddress=F.ip||F.address,this.localPort=+F.port):F&&F.ipAddress?(this.localAddress=F.ipAddress,this.localPort=+F.portNumber):typeof R.googLocalAddress=="string"&&(F=R.googLocalAddress.split(":"),this.localAddress=F[0],this.localPort=+F[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let j=C[R.remoteCandidateId];j&&(j.ip||j.address)?(this.remoteAddress=j.ip||j.address,this.remotePort=+j.port):j&&j.ipAddress?(this.remoteAddress=j.ipAddress,this.remotePort=+j.portNumber):typeof R.googRemoteAddress=="string"&&(j=R.googRemoteAddress.split(":"),this.remoteAddress=j[0],this.remotePort=+j[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(p.forEach(R=>{R.type==="transport"&&R.selectedCandidatePairId&&_(T[R.selectedCandidatePairId]),(R.type==="googCandidatePair"&&R.googActiveConnection==="true"||(R.type==="candidatepair"||R.type==="candidate-pair")&&R.selected)&&_(R)}),!P&&(!Object.keys(T).length||Object.keys(y).length))return void setTimeout(c,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(F){return this.destroy(u(F,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const R=this._cb;this._cb=null,R(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};c()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>B)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(c=>{this._pc.removeTrack(c),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(c){this.destroyed||(c.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:c.candidate.candidate,sdpMLineIndex:c.candidate.sdpMLineIndex,sdpMid:c.candidate.sdpMid}}):!c.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),c.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(c){if(this.destroyed)return;let l=c.data;l instanceof ArrayBuffer&&(l=w.from(l)),this.push(l)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const c=this._cb;this._cb=null,c(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(c){this.destroyed||c.streams.forEach(l=>{this._debug("on track"),this.emit("track",c.track,l),this._remoteTracks.push({track:c.track,stream:l}),this._remoteStreams.some(p=>p.id===l.id)||(this._remoteStreams.push(l),b(()=>{this._debug("on stream"),this.emit("stream",l)}))})}_debug(){const c=[].slice.call(arguments);c[0]="["+this._id+"] "+c[0],x.apply(null,c)}}k.WEBRTC_SUPPORT=!!D(),k.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},k.channelConfig={},L.exports=k},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(ce);var Te=ce.exports;const lt=Object.create(null);lt.open="0";lt.close="1";lt.ping="2";lt.pong="3";lt.message="4";lt.upgrade="5";lt.noop="6";const Mt=Object.create(null);Object.keys(lt).forEach(s=>{Mt[lt[s]]=s});const ke={type:"error",data:"parser error"},Ae=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Oe=typeof ArrayBuffer=="function",xe=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,he=({type:s,data:e},r,a)=>Ae&&e instanceof Blob?r?a(e):Zt(e,a):Oe&&(e instanceof ArrayBuffer||xe(e))?r?a(e):Zt(new Blob([e]),a):a(lt[s]+(e||"")),Zt=(s,e)=>{const r=new FileReader;return r.onload=function(){const a=r.result.split(",")[1];e("b"+a)},r.readAsDataURL(s)},te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lt=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let s=0;s<te.length;s++)Lt[te.charCodeAt(s)]=s;const Ne=s=>{let e=s.length*.75,r=s.length,a,N=0,m,L,E,d;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);const x=new ArrayBuffer(e),D=new Uint8Array(x);for(a=0;a<r;a+=4)m=Lt[s.charCodeAt(a)],L=Lt[s.charCodeAt(a+1)],E=Lt[s.charCodeAt(a+2)],d=Lt[s.charCodeAt(a+3)],D[N++]=m<<2|L>>4,D[N++]=(L&15)<<4|E>>2,D[N++]=(E&3)<<6|d&63;return x},Le=typeof ArrayBuffer=="function",ue=(s,e)=>{if(typeof s!="string")return{type:"message",data:le(s,e)};const r=s.charAt(0);return r==="b"?{type:"message",data:Be(s.substring(1),e)}:Mt[r]?s.length>1?{type:Mt[r],data:s.substring(1)}:{type:Mt[r]}:ke},Be=(s,e)=>{if(Le){const r=Ne(s);return le(r,e)}else return{base64:!0,data:s}},le=(s,e)=>{switch(e){case"blob":return s instanceof ArrayBuffer?new Blob([s]):s;case"arraybuffer":default:return s}},fe=String.fromCharCode(30),Ie=(s,e)=>{const r=s.length,a=new Array(r);let N=0;s.forEach((m,L)=>{he(m,!1,E=>{a[L]=E,++N===r&&e(a.join(fe))})})},De=(s,e)=>{const r=s.split(fe),a=[];for(let N=0;N<r.length;N++){const m=ue(r[N],e);if(a.push(m),m.type==="error")break}return a},de=4;function Z(s){if(s)return Pe(s)}function Pe(s){for(var e in Z.prototype)s[e]=Z.prototype[e];return s}Z.prototype.on=Z.prototype.addEventListener=function(s,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(e),this};Z.prototype.once=function(s,e){function r(){this.off(s,r),e.apply(this,arguments)}return r.fn=e,this.on(s,r),this};Z.prototype.off=Z.prototype.removeListener=Z.prototype.removeAllListeners=Z.prototype.removeEventListener=function(s,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+s];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var a,N=0;N<r.length;N++)if(a=r[N],a===e||a.fn===e){r.splice(N,1);break}return r.length===0&&delete this._callbacks["$"+s],this};Z.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+s],a=1;a<arguments.length;a++)e[a-1]=arguments[a];if(r){r=r.slice(0);for(var a=0,N=r.length;a<N;++a)r[a].apply(this,e)}return this};Z.prototype.emitReserved=Z.prototype.emit;Z.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};Z.prototype.hasListeners=function(s){return!!this.listeners(s).length};const bt=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function pe(s,...e){return e.reduce((r,a)=>(s.hasOwnProperty(a)&&(r[a]=s[a]),r),{})}const Fe=setTimeout,Me=clearTimeout;function Wt(s,e){e.useNativeTimers?(s.setTimeoutFn=Fe.bind(bt),s.clearTimeoutFn=Me.bind(bt)):(s.setTimeoutFn=setTimeout.bind(bt),s.clearTimeoutFn=clearTimeout.bind(bt))}const je=1.33;function Ue(s){return typeof s=="string"?qe(s):Math.ceil((s.byteLength||s.size)*je)}function qe(s){let e=0,r=0;for(let a=0,N=s.length;a<N;a++)e=s.charCodeAt(a),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(a++,r+=4);return r}class We extends Error{constructor(e,r,a){super(e),this.description=r,this.context=a,this.type="TransportError"}}class ge extends Z{constructor(e){super(),this.writable=!1,Wt(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,r,a){return super.emitReserved("error",new We(e,r,a)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=ue(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const ye="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Vt=64,He={};let ee=0,Dt=0,ne;function re(s){let e="";do e=ye[s%Vt]+e,s=Math.floor(s/Vt);while(s>0);return e}function me(){const s=re(+new Date);return s!==ne?(ee=0,ne=s):s+"."+re(ee++)}for(;Dt<Vt;Dt++)He[ye[Dt]]=Dt;function be(s){let e="";for(let r in s)s.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(s[r]));return e}function Ve(s){let e={},r=s.split("&");for(let a=0,N=r.length;a<N;a++){let m=r[a].split("=");e[decodeURIComponent(m[0])]=decodeURIComponent(m[1])}return e}let _e=!1;try{_e=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{}const Ye=_e;function we(s){const e=s.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||Ye))return new XMLHttpRequest}catch{}if(!e)try{return new bt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function ze(){}const Ke=function(){return new we({xdomain:!1}).responseType!=null}();class $e extends ge{constructor(e){if(super(e),this.polling=!1,typeof location!="undefined"){const a=location.protocol==="https:";let N=location.port;N||(N=a?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||N!==e.port,this.xs=e.secure!==a}const r=e&&e.forceBase64;this.supportsBinary=Ke&&!r}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let a=0;this.polling&&(a++,this.once("pollComplete",function(){--a||r()})),this.writable||(a++,this.once("drain",function(){--a||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};De(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Ie(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const r=this.opts.secure?"https":"http";let a="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=me()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(a=":"+this.opts.port);const N=be(e),m=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(m?"["+this.opts.hostname+"]":this.opts.hostname)+a+this.opts.path+(N.length?"?"+N:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new ut(this.uri(),e)}doWrite(e,r){const a=this.request({method:"POST",data:e});a.on("success",r),a.on("error",(N,m)=>{this.onError("xhr post error",N,m)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,a)=>{this.onError("xhr poll error",r,a)}),this.pollXhr=e}}class ut extends Z{constructor(e,r){super(),Wt(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const e=pe(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const r=this.xhr=new we(e);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let a in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this.opts.extraHeaders[a])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(a){this.setTimeoutFn(()=>{this.onError(a)},0);return}typeof document!="undefined"&&(this.index=ut.requestsCount++,ut.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=ze,e)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete ut.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}ut.requestsCount=0;ut.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",ie);else if(typeof addEventListener=="function"){const s="onpagehide"in bt?"pagehide":"unload";addEventListener(s,ie,!1)}}function ie(){for(let s in ut.requests)ut.requests.hasOwnProperty(s)&&ut.requests[s].abort()}const Ge=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))(),Pt=bt.WebSocket||bt.MozWebSocket,se=!0,Je="arraybuffer",oe=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Xe extends ge{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,a=oe?{}:pe(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=se&&!oe?r?new Pt(e,r):new Pt(e):new Pt(e,r,a)}catch(N){return this.emitReserved("error",N)}this.ws.binaryType=this.socket.binaryType||Je,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const a=e[r],N=r===e.length-1;he(a,this.supportsBinary,m=>{const L={};try{se&&this.ws.send(m)}catch{}N&&Ge(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const r=this.opts.secure?"wss":"ws";let a="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(a=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=me()),this.supportsBinary||(e.b64=1);const N=be(e),m=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(m?"["+this.opts.hostname+"]":this.opts.hostname)+a+this.opts.path+(N.length?"?"+N:"")}check(){return!!Pt}}const Qe={websocket:Xe,polling:$e},Ze=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Yt(s){const e=s,r=s.indexOf("["),a=s.indexOf("]");r!=-1&&a!=-1&&(s=s.substring(0,r)+s.substring(r,a).replace(/:/g,";")+s.substring(a,s.length));let N=Ze.exec(s||""),m={},L=14;for(;L--;)m[tn[L]]=N[L]||"";return r!=-1&&a!=-1&&(m.source=e,m.host=m.host.substring(1,m.host.length-1).replace(/;/g,":"),m.authority=m.authority.replace("[","").replace("]","").replace(/;/g,":"),m.ipv6uri=!0),m.pathNames=en(m,m.path),m.queryKey=nn(m,m.query),m}function en(s,e){const r=/\/{2,9}/g,a=e.replace(r,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&a.splice(0,1),e.substr(e.length-1,1)=="/"&&a.splice(a.length-1,1),a}function nn(s,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,N,m){N&&(r[N]=m)}),r}class yt extends Z{constructor(e,r={}){super(),e&&typeof e=="object"&&(r=e,e=null),e?(e=Yt(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=Yt(r.host).host),Wt(this,r),this.secure=r.secure!=null?r.secure:typeof location!="undefined"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=r.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=Ve(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=de,r.transport=e,this.id&&(r.sid=this.id);const a=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Qe[e](a)}open(){let e;if(this.opts.rememberUpgrade&&yt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),a=!1;yt.priorWebsocketSuccess=!1;const N=()=>{a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",o=>{if(!a)if(o.type==="pong"&&o.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;yt.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(D(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=r.name,this.emitReserved("upgradeError",f)}}))};function m(){a||(a=!0,D(),r.close(),r=null)}const L=o=>{const f=new Error("probe error: "+o);f.transport=r.name,m(),this.emitReserved("upgradeError",f)};function E(){L("transport closed")}function d(){L("socket closed")}function x(o){r&&o.name!==r.name&&m()}const D=()=>{r.removeListener("open",N),r.removeListener("error",L),r.removeListener("close",E),this.off("close",d),this.off("upgrading",x)};r.once("open",N),r.once("error",L),r.once("close",E),this.once("close",d),this.once("upgrading",x),r.open()}onOpen(){if(this.readyState="open",yt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let a=0;a<this.writeBuffer.length;a++){const N=this.writeBuffer[a].data;if(N&&(r+=Ue(N)),a>0&&r>this.maxPayload)return this.writeBuffer.slice(0,a);r+=2}return this.writeBuffer}write(e,r,a){return this.sendPacket("message",e,r,a),this}send(e,r,a){return this.sendPacket("message",e,r,a),this}sendPacket(e,r,a,N){if(typeof r=="function"&&(N=r,r=void 0),typeof a=="function"&&(N=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const m={type:e,data:r,options:a};this.emitReserved("packetCreate",m),this.writeBuffer.push(m),N&&this.once("flush",N),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},a=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():e()}):this.upgrading?a():e()),this}onError(e){yt.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let a=0;const N=e.length;for(;a<N;a++)~this.transports.indexOf(e[a])&&r.push(e[a]);return r}}yt.protocol=de;function rn(s,e="",r){let a=s;r=r||typeof location!="undefined"&&location,s==null&&(s=r.protocol+"//"+r.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=r.protocol+s:s=r.host+s),/^(https?|wss?):\/\//.test(s)||(typeof r!="undefined"?s=r.protocol+"//"+s:s="https://"+s),a=Yt(s)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const m=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+m+":"+a.port+e,a.href=a.protocol+"://"+m+(r&&r.port===a.port?"":":"+a.port),a}const sn=typeof ArrayBuffer=="function",on=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,ve=Object.prototype.toString,an=typeof Blob=="function"||typeof Blob!="undefined"&&ve.call(Blob)==="[object BlobConstructor]",cn=typeof File=="function"||typeof File!="undefined"&&ve.call(File)==="[object FileConstructor]";function Gt(s){return sn&&(s instanceof ArrayBuffer||on(s))||an&&s instanceof Blob||cn&&s instanceof File}function jt(s,e){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let r=0,a=s.length;r<a;r++)if(jt(s[r]))return!0;return!1}if(Gt(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return jt(s.toJSON(),!0);for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&jt(s[r]))return!0;return!1}function hn(s){const e=[],r=s.data,a=s;return a.data=zt(r,e),a.attachments=e.length,{packet:a,buffers:e}}function zt(s,e){if(!s)return s;if(Gt(s)){const r={_placeholder:!0,num:e.length};return e.push(s),r}else if(Array.isArray(s)){const r=new Array(s.length);for(let a=0;a<s.length;a++)r[a]=zt(s[a],e);return r}else if(typeof s=="object"&&!(s instanceof Date)){const r={};for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=zt(s[a],e));return r}return s}function un(s,e){return s.data=Kt(s.data,e),s.attachments=void 0,s}function Kt(s,e){if(!s)return s;if(s&&s._placeholder)return e[s.num];if(Array.isArray(s))for(let r=0;r<s.length;r++)s[r]=Kt(s[r],e);else if(typeof s=="object")for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(s[r]=Kt(s[r],e));return s}const ln=5;var $;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})($||($={}));class fn{constructor(e){this.replacer=e}encode(e){return(e.type===$.EVENT||e.type===$.ACK)&&jt(e)?(e.type=e.type===$.EVENT?$.BINARY_EVENT:$.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===$.BINARY_EVENT||e.type===$.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=hn(e),a=this.encodeAsString(r.packet),N=r.buffers;return N.unshift(a),N}}class Jt extends Z{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string")r=this.decodeString(e),r.type===$.BINARY_EVENT||r.type===$.BINARY_ACK?(this.reconstructor=new dn(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r);else if(Gt(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const a={type:Number(e.charAt(0))};if($[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===$.BINARY_EVENT||a.type===$.BINARY_ACK){const m=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const L=e.substring(m,r);if(L!=Number(L)||e.charAt(r)!=="-")throw new Error("Illegal attachments");a.attachments=Number(L)}if(e.charAt(r+1)==="/"){const m=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););a.nsp=e.substring(m,r)}else a.nsp="/";const N=e.charAt(r+1);if(N!==""&&Number(N)==N){const m=r+1;for(;++r;){const L=e.charAt(r);if(L==null||Number(L)!=L){--r;break}if(r===e.length)break}a.id=Number(e.substring(m,r+1))}if(e.charAt(++r)){const m=this.tryParse(e.substr(r));if(Jt.isPayloadValid(a.type,m))a.data=m;else throw new Error("invalid payload")}return a}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case $.CONNECT:return typeof r=="object";case $.DISCONNECT:return r===void 0;case $.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case $.EVENT:case $.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case $.ACK:case $.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class dn{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=un(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var pn=Object.freeze(Object.defineProperty({__proto__:null,protocol:ln,get PacketType(){return $},Encoder:fn,Decoder:Jt},Symbol.toStringTag,{value:"Module"}));function ct(s,e,r){return s.on(e,r),function(){s.off(e,r)}}const gn=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ee extends Z{constructor(e,r,a){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,a&&a.auth&&(this.auth=a.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ct(e,"open",this.onopen.bind(this)),ct(e,"packet",this.onpacket.bind(this)),ct(e,"error",this.onerror.bind(this)),ct(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(gn.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');r.unshift(e);const a={type:$.EVENT,data:r};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const L=this.ids++,E=r.pop();this._registerAckCallback(L,E),a.id=L}const N=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!N||!this.connected)||(this.connected?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,r){const a=this.flags.timeout;if(a===void 0){this.acks[e]=r;return}const N=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let m=0;m<this.sendBuffer.length;m++)this.sendBuffer[m].id===e&&this.sendBuffer.splice(m,1);r.call(this,new Error("operation has timed out"))},a);this.acks[e]=(...m)=>{this.io.clearTimeoutFn(N),r.apply(this,[null,...m])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:$.CONNECT,data:e})}):this.packet({type:$.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case $.CONNECT:if(e.data&&e.data.sid){const N=e.data.sid;this.onconnect(N)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case $.EVENT:case $.BINARY_EVENT:this.onevent(e);break;case $.ACK:case $.BINARY_ACK:this.onack(e);break;case $.DISCONNECT:this.ondisconnect();break;case $.CONNECT_ERROR:this.destroy();const a=new Error(e.data.message);a.data=e.data.data,this.emitReserved("connect_error",a);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const a of r)a.apply(this,e)}super.emit.apply(this,e)}ack(e){const r=this;let a=!1;return function(...N){a||(a=!0,r.packet({type:$.ACK,id:e,data:N}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(r.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:$.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let a=0;a<r.length;a++)if(e===r[a])return r.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let a=0;a<r.length;a++)if(e===r[a])return r.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const a of r)a.apply(this,e.data)}}}function kt(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}kt.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*s);s=(Math.floor(e*10)&1)==0?s-r:s+r}return Math.min(s,this.max)|0};kt.prototype.reset=function(){this.attempts=0};kt.prototype.setMin=function(s){this.ms=s};kt.prototype.setMax=function(s){this.max=s};kt.prototype.setJitter=function(s){this.jitter=s};class $t extends Z{constructor(e,r){var a;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Wt(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((a=r.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new kt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const N=r.parser||pn;this.encoder=new N.Encoder,this.decoder=new N.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new yt(this.uri,this.opts);const r=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const N=ct(r,"open",function(){a.onopen(),e&&e()}),m=ct(r,"error",L=>{a.cleanup(),a._readyState="closed",this.emitReserved("error",L),e?e(L):a.maybeReconnectOnOpen()});if(this._timeout!==!1){const L=this._timeout;L===0&&N();const E=this.setTimeoutFn(()=>{N(),r.close(),r.emit("error",new Error("timeout"))},L);this.opts.autoUnref&&E.unref(),this.subs.push(function(){clearTimeout(E)})}return this.subs.push(N),this.subs.push(m),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ct(e,"ping",this.onping.bind(this)),ct(e,"data",this.ondata.bind(this)),ct(e,"error",this.onerror.bind(this)),ct(e,"close",this.onclose.bind(this)),ct(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,r){let a=this.nsps[e];return a||(a=new Ee(this,e,r),this.nsps[e]=a),a}_destroy(e){const r=Object.keys(this.nsps);for(const a of r)if(this.nsps[a].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let a=0;a<r.length;a++)this.engine.write(r[a],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(N=>{N?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",N)):e.onreconnect()}))},r);this.opts.autoUnref&&a.unref(),this.subs.push(function(){clearTimeout(a)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Nt={};function Ut(s,e){typeof s=="object"&&(e=s,s=void 0),e=e||{};const r=rn(s,e.path||"/socket.io"),a=r.source,N=r.id,m=r.path,L=Nt[N]&&m in Nt[N].nsps,E=e.forceNew||e["force new connection"]||e.multiplex===!1||L;let d;return E?d=new $t(a,e):(Nt[N]||(Nt[N]=new $t(a,e)),d=Nt[N]),r.query&&!e.query&&(e.query=r.queryKey),d.socket(r.path,e)}Object.assign(Ut,{Manager:$t,Socket:Ee,io:Ut,connect:Ut});let Bt=null;const yn="https://webscreen-signal.herokuapp.com",mn="answer-want-connect",bn="answer-want-offer-signal";function Ce(){Bt||(Bt=Ut(yn),console.log("createSocket",Bt))}async function _n(s){return new Promise((e,r)=>{Ce(),Bt.emit(mn,s,a=>{a?e(a):r("Not found offer with code "+s)})})}function wn(s,e){Ce(),Bt.emit(bn,{code:s,answer:e})}function vn(s,e,r){const{width:a,height:N}=r,m=parseFloat(s*100/a).toFixed(2),L=parseFloat(e*100/N).toFixed(2);return{x:m,y:L}}async function En(s){try{const e={initiator:!1,config:{iceServers:[{urls:"turn:54.166.44.24?3478?transport=tcp",username:"root",credential:"toor"}]}},r=await _n(s),a=new Te(e);return a.signal(r),a.on("signal",async m=>{m.type==="answer"&&wn(s,m)}),{mouseClick(m,L,E){const d={click:!0,...vn(m,L,E)};console.log(d),a.send(JSON.stringify(d))},onConnect(m){a.on("connect",m)},onClose(m){a.on("close",m)},onStream(m){a.on("stream",m)},disconnect(){a.destroy()}}}catch(e){throw new Error(e)}}function Cn(s,e){return mt(),Tt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[qt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])}function Rn(s,e){return mt(),Tt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[qt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})])}function Sn(s,e){return mt(),Tt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[qt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})])}var Re=(s,e)=>{const r=s.__vccOpts||s;for(const[a,N]of e)r[a]=N;return r};const Tn={name:"StatusBanner",components:{SwitchVerticalIcon:Sn,ExclamationCircleIcon:Cn,ShieldCheckIcon:Rn},props:{status:{type:String,required:!0}},computed:{bgcolor(){return this.status==="Connected"?"bg-green-600":this.status==="Connecting"?"bg-yellow-600":this.status==="Failed"?"bg-red-600":"bg-gray-600"},bgcolorIcon(){return this.status==="Connected"?"bg-green-500":this.status==="Connecting"?"bg-yellow-500":this.status==="Failed"?"bg-red-500":"bg-gray-500"}},emits:["disconnect"]},kn={class:"max-w-7xl mx-auto py-3 px-3 sm:px-6 lg:px-8"},An={class:"flex items-center justify-between flex-wrap"},On={class:"w-0 flex-1 flex items-center"},xn={class:"ml-3 font-medium text-white truncate"},Nn={class:"md:hidden"},Ln={class:"hidden md:inline"},Bn={class:"order-3 mt-2 flex-shrink-0 w-full sm:order-2 sm:mt-0 sm:w-auto"};function In(s,e,r,a,N,m){const L=Ft("SwitchVerticalIcon"),E=Ft("ShieldCheckIcon"),d=Ft("ExclamationCircleIcon");return mt(),ae("div",{class:Xt(m.bgcolor)},[at("div",kn,[at("div",An,[at("div",On,[at("span",{class:Xt(["flex","p-2","rounded-lg","bg-indigo-800",m.bgcolorIcon])},[r.status==="Connecting"?(mt(),Tt(L,{key:0,class:"w-6 h-6 text-white"})):Ht("",!0),r.status==="Connected"?(mt(),Tt(E,{key:1,class:"w-6 h-6 text-white"})):Ht("",!0),r.status==="Failed"?(mt(),Tt(d,{key:2,class:"h-6 w-6 text-white","aria-hidden":"true"})):Ht("",!0)],2),at("p",xn,[at("span",Nn,Qt(r.status),1),at("span",Ln,Qt(r.status),1)])]),at("div",Bn,[at("button",{class:"flex items-center justify-center px-4 py-2 border border-transparent rounded shadow-md text-sm font-medium text-indigo-600 bg-white hover:bg-indigo-50",onClick:e[0]||(e[0]=x=>s.$emit("disconnect"))}," Disconnect ")])])])],2)}var Dn=Re(Tn,[["render",In]]);const Pn={name:"Remote",components:{StatusBanner:Dn},data(){return{connected:!1,failed:!1,rtcInstance:null}},computed:{connectionState(){return this.connected?"Connected":this.failed?"Failed":"Connecting"}},async mounted(){try{const s=this.$route.params.code;this.rtcInstance=await En(s),this.rtcInstance.onStream(this.onStream),this.rtcInstance.onConnect(this.onConnect),this.rtcInstance.onClose(this.onDisconnect)}catch(s){this.failed=!0,console.error(s)}},beforeDestroy(){this.rtcInstance.disconnect()},methods:{onStream(s){this.$refs.video.srcObject=s,this.$refs.video.play()},onConnect(){this.connected=!0},onDisconnect(){this.connected=!1},handleClick(s){console.log("click");const{offsetX:e,offsetY:r}=s,a=document.getElementById("video"),N={width:a.offsetWidth,height:a.offsetHeight};this.rtcInstance.mouseClick(e,r,N)},handleDisconnect(){this.$router.go(-1)}}},Fn={class:"flex flex-col flex-1 justify-center bg-black"},Mn={class:"flex-1"};function jn(s,e,r,a,N,m){const L=Ft("StatusBanner");return mt(),ae("div",Fn,[qt(L,{status:m.connectionState,onDisconnect:m.handleDisconnect},null,8,["status","onDisconnect"]),at("div",Mn,[at("video",{class:"h-fit w-full border-dashed border-2 border-slate-500",id:"video",ref:"video",onClick:e[0]||(e[0]=Se((...E)=>m.handleClick&&m.handleClick(...E),["prevent"])),muted:"muted"},null,512)])])}var qn=Re(Pn,[["render",jn]]);export{qn as default};
